<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.mozilla.org/bugzilla.dtd">

<bugzilla version="3.6.4+"
          urlbase="https://bugzilla.mozilla.org/"
          
          maintainer="bugzilla-admin@mozilla.org"
>

    <bug>
          <bug_id>647706</bug_id>
          
          <creation_ts>2011-04-04 10:21:00 -0700</creation_ts>
          <short_desc>Additional bits to support SHA224 certificates</short_desc>
          <delta_ts>2011-04-04 10:21:33 -0700</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>3</classification_id>
          <classification>Components</classification>
          <product>NSS</product>
          <component>Libraries</component>
          <version>trunk</version>
          <rep_platform>x86_64</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>NEW</bug_status>
          
          
          
          
          
          
          <priority>--</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Hanno Boeck">hanno</reporter>
          <assigned_to>nobody</assigned_to>
          
          <qa_contact>libraries</qa_contact>
          
          <cf_blocking_fx>---</cf_blocking_fx>
          <cf_blocking_20>---</cf_blocking_20>
          <cf_status_20>---</cf_status_20>
          <cf_blocking_192>---</cf_blocking_192>
          <cf_status_192>---</cf_status_192>
          <cf_blocking_191>---</cf_blocking_191>
          <cf_status_191>---</cf_status_191>
          
          
          
          
          
          
          
          
          
          

      

      

      

          <long_desc isprivate="0">
            <commentid>5390279</commentid>
              <attachid>523995</attachid>
            <who name="Hanno Boeck">hanno</who>
            <bug_when>2011-04-04 10:21:21 -0700</bug_when>
            <thetext>Created attachment 523995
add sha224 at various places to make certificate signatures possible

nss recently got SHA224 support in #356713 - however, many places within the nss code don&apos;t know about that.
Attached patch will add it at some places, making it possible to use rsa/sha224 to sign certificates with certutil.</thetext>
          </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
              isurl="0"
          >
            <attachid>523995</attachid>
            <date>2011-04-04 10:21:00 -0700</date>
            <delta_ts>2011-04-04 10:21:21 -0700</delta_ts>
            <desc>add sha224 at various places to make certificate signatures possible</desc>
            <filename>nss-sha224.diff</filename>
            <type>text/plain</type>
            <size>6435</size>
            <attacher>hanno</attacher>
            
              <data encoding="base64">SW5kZXg6IHNlY3VyaXR5L25zcy9jbWQvbGliL3NlY3V0aWwuYwo9PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ClJDUyBmaWxl
OiAvY3Zzcm9vdC9tb3ppbGxhL3NlY3VyaXR5L25zcy9jbWQvbGliL3NlY3V0aWwuYyx2CnJldHJp
ZXZpbmcgcmV2aXNpb24gMS4xMDQKZGlmZiAtdSAtcCAtOCAtcjEuMTA0IHNlY3V0aWwuYwotLS0g
c2VjdXJpdHkvbnNzL2NtZC9saWIvc2VjdXRpbC5jCTI4IEphbiAyMDExIDAyOjU1OjI1IC0wMDAw
CTEuMTA0CisrKyBzZWN1cml0eS9uc3MvY21kL2xpYi9zZWN1dGlsLmMJNCBBcHIgMjAxMSAxNzox
NzowNSAtMDAwMApAQCAtMzg4MSwxNiArMzg4MSwxOCBAQCBTRUNVX1N0cmluZ1RvU2lnbmF0dXJl
QWxnVGFnKGNvbnN0IGNoYXIgCiAJaWYgKCFQTF9zdHJjbXAoYWxnLCAiTUQyIikpIHsKIAkgICAg
aGFzaEFsZ1RhZyA9IFNFQ19PSURfTUQyOwogCX0gZWxzZSBpZiAoIVBMX3N0cmNtcChhbGcsICJN
RDQiKSkgewogCSAgICBoYXNoQWxnVGFnID0gU0VDX09JRF9NRDQ7CiAJfSBlbHNlIGlmICghUExf
c3RyY21wKGFsZywgIk1ENSIpKSB7CiAJICAgIGhhc2hBbGdUYWcgPSBTRUNfT0lEX01ENTsKIAl9
IGVsc2UgaWYgKCFQTF9zdHJjbXAoYWxnLCAiU0hBMSIpKSB7CiAJICAgIGhhc2hBbGdUYWcgPSBT
RUNfT0lEX1NIQTE7CisJfSBlbHNlIGlmICghUExfc3RyY21wKGFsZywgIlNIQTIyNCIpKSB7CisJ
ICAgIGhhc2hBbGdUYWcgPSBTRUNfT0lEX1NIQTIyNDsKIAl9IGVsc2UgaWYgKCFQTF9zdHJjbXAo
YWxnLCAiU0hBMjU2IikpIHsKIAkgICAgaGFzaEFsZ1RhZyA9IFNFQ19PSURfU0hBMjU2OwogCX0g
ZWxzZSBpZiAoIVBMX3N0cmNtcChhbGcsICJTSEEzODQiKSkgewogCSAgICBoYXNoQWxnVGFnID0g
U0VDX09JRF9TSEEzODQ7CiAJfSBlbHNlIGlmICghUExfc3RyY21wKGFsZywgIlNIQTUxMiIpKSB7
CiAJICAgIGhhc2hBbGdUYWcgPSBTRUNfT0lEX1NIQTUxMjsKIAl9CiAgICAgfQpJbmRleDogc2Vj
dXJpdHkvbnNzL2xpYi9jcnlwdG9oaS9zZWNoYXNoLmMKPT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpSQ1MgZmlsZTogL2N2
c3Jvb3QvbW96aWxsYS9zZWN1cml0eS9uc3MvbGliL2NyeXB0b2hpL3NlY2hhc2guYyx2CnJldHJp
ZXZpbmcgcmV2aXNpb24gMS4xMQpkaWZmIC11IC1wIC04IC1yMS4xMSBzZWNoYXNoLmMKLS0tIHNl
Y3VyaXR5L25zcy9saWIvY3J5cHRvaGkvc2VjaGFzaC5jCTE4IEF1ZyAyMDEwIDA1OjU0OjE4IC0w
MDAwCTEuMTEKKysrIHNlY3VyaXR5L25zcy9saWIvY3J5cHRvaGkvc2VjaGFzaC5jCTQgQXByIDIw
MTEgMTc6MTc6NDUgLTAwMDAKQEAgLTIxMiwxNiArMjEyLDE3IEBAIEhBU0hfSGFzaFR5cGUKIEhB
U0hfR2V0SGFzaFR5cGVCeU9pZFRhZyhTRUNPaWRUYWcgaGFzaE9pZCkKIHsKICAgICBIQVNIX0hh
c2hUeXBlIGh0CT0gSEFTSF9BbGdOVUxMOwogCiAgICAgc3dpdGNoKGhhc2hPaWQpIHsKICAgICBj
YXNlIFNFQ19PSURfTUQyOgkgaHQgPSBIQVNIX0FsZ01EMjsgICAgYnJlYWs7CiAgICAgY2FzZSBT
RUNfT0lEX01ENToJIGh0ID0gSEFTSF9BbGdNRDU7ICAgIGJyZWFrOwogICAgIGNhc2UgU0VDX09J
RF9TSEExOgkgaHQgPSBIQVNIX0FsZ1NIQTE7ICAgYnJlYWs7CisgICAgY2FzZSBTRUNfT0lEX1NI
QTIyNDogaHQgPSBIQVNIX0FsZ1NIQTIyNDsgYnJlYWs7CiAgICAgY2FzZSBTRUNfT0lEX1NIQTI1
NjogaHQgPSBIQVNIX0FsZ1NIQTI1NjsgYnJlYWs7CiAgICAgY2FzZSBTRUNfT0lEX1NIQTM4NDog
aHQgPSBIQVNIX0FsZ1NIQTM4NDsgYnJlYWs7CiAgICAgY2FzZSBTRUNfT0lEX1NIQTUxMjogaHQg
PSBIQVNIX0FsZ1NIQTUxMjsgYnJlYWs7CiAgICAgZGVmYXVsdDogICAgICAgICAgICAgaHQgPSBI
QVNIX0FsZ05VTEw7ICAgCiAJUE9SVF9TZXRFcnJvcihTRUNfRVJST1JfSU5WQUxJRF9BTEdPUklU
SE0pOwogCWJyZWFrOwogICAgIH0KICAgICByZXR1cm4gaHQ7CkBAIC0yMzEsMTYgKzIzMiwxNyBA
QCBTRUNPaWRUYWcKIEhBU0hfR2V0SGFzaE9pZFRhZ0J5SE1BQ09pZFRhZyhTRUNPaWRUYWcgaG1h
Y09pZCkKIHsKICAgICBTRUNPaWRUYWcgaGFzaE9pZCA9IFNFQ19PSURfVU5LTk9XTjsKIAogICAg
IHN3aXRjaChobWFjT2lkKSB7CiAgICAgLyogbm8gb2lkIGV4aXN0cyBmb3IgSE1BQ19NRDIgKi8K
ICAgICAvKiBOU1MgZG9lcyBub3QgZGVmaW5lIGEgb2lkIGZvciBITUFDX01ENCAqLwogICAgIGNh
c2UgU0VDX09JRF9ITUFDX1NIQTE6ICAgaGFzaE9pZCA9IFNFQ19PSURfU0hBMTsgICBicmVhazsK
KyAgICBjYXNlIFNFQ19PSURfSE1BQ19TSEEyMjQ6IGhhc2hPaWQgPSBTRUNfT0lEX1NIQTIyNDsg
YnJlYWs7CiAgICAgY2FzZSBTRUNfT0lEX0hNQUNfU0hBMjU2OiBoYXNoT2lkID0gU0VDX09JRF9T
SEEyNTY7IGJyZWFrOwogICAgIGNhc2UgU0VDX09JRF9ITUFDX1NIQTM4NDogaGFzaE9pZCA9IFNF
Q19PSURfU0hBMzg0OyBicmVhazsKICAgICBjYXNlIFNFQ19PSURfSE1BQ19TSEE1MTI6IGhhc2hP
aWQgPSBTRUNfT0lEX1NIQTUxMjsgYnJlYWs7CiAgICAgZGVmYXVsdDogICAgICAgICAgICAgICAg
ICBoYXNoT2lkID0gU0VDX09JRF9VTktOT1dOOyAgIAogCVBPUlRfU2V0RXJyb3IoU0VDX0VSUk9S
X0lOVkFMSURfQUxHT1JJVEhNKTsKIAlicmVhazsKICAgICB9CiAgICAgcmV0dXJuIGhhc2hPaWQ7
CkBAIC0yNTAsMTYgKzI1MiwxNyBAQCBTRUNPaWRUYWcKIEhBU0hfR2V0SE1BQ09pZFRhZ0J5SGFz
aE9pZFRhZyhTRUNPaWRUYWcgaGFzaE9pZCkKIHsKICAgICBTRUNPaWRUYWcgaG1hY09pZCA9IFNF
Q19PSURfVU5LTk9XTjsKIAogICAgIHN3aXRjaChoYXNoT2lkKSB7CiAgICAgLyogbm8gb2lkIGV4
aXN0cyBmb3IgSE1BQ19NRDIgKi8KICAgICAvKiBOU1MgZG9lcyBub3QgZGVmaW5lIGEgb2lkIGZv
ciBITUFDX01ENCAqLwogICAgIGNhc2UgU0VDX09JRF9TSEExOiAgIGhtYWNPaWQgPSBTRUNfT0lE
X0hNQUNfU0hBMTsgICBicmVhazsKKyAgICBjYXNlIFNFQ19PSURfU0hBMjI0OiBobWFjT2lkID0g
U0VDX09JRF9ITUFDX1NIQTIyNDsgYnJlYWs7CiAgICAgY2FzZSBTRUNfT0lEX1NIQTI1NjogaG1h
Y09pZCA9IFNFQ19PSURfSE1BQ19TSEEyNTY7IGJyZWFrOwogICAgIGNhc2UgU0VDX09JRF9TSEEz
ODQ6IGhtYWNPaWQgPSBTRUNfT0lEX0hNQUNfU0hBMzg0OyBicmVhazsKICAgICBjYXNlIFNFQ19P
SURfU0hBNTEyOiBobWFjT2lkID0gU0VDX09JRF9ITUFDX1NIQTUxMjsgYnJlYWs7CiAgICAgZGVm
YXVsdDogICAgICAgICAgICAgaG1hY09pZCA9IFNFQ19PSURfVU5LTk9XTjsgICAKIAlQT1JUX1Nl
dEVycm9yKFNFQ19FUlJPUl9JTlZBTElEX0FMR09SSVRITSk7CiAJYnJlYWs7CiAgICAgfQogICAg
IHJldHVybiBobWFjT2lkOwpJbmRleDogc2VjdXJpdHkvbnNzL2xpYi9jcnlwdG9oaS9zZWNzaWdu
LmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PQpSQ1MgZmlsZTogL2N2c3Jvb3QvbW96aWxsYS9zZWN1cml0eS9uc3MvbGli
L2NyeXB0b2hpL3NlY3NpZ24uYyx2CnJldHJpZXZpbmcgcmV2aXNpb24gMS4yNQpkaWZmIC11IC1w
IC04IC1yMS4yNSBzZWNzaWduLmMKLS0tIHNlY3VyaXR5L25zcy9saWIvY3J5cHRvaGkvc2Vjc2ln
bi5jCTI5IE1hciAyMDExIDE1OjEyOjQ1IC0wMDAwCTEuMjUKKysrIHNlY3VyaXR5L25zcy9saWIv
Y3J5cHRvaGkvc2Vjc2lnbi5jCTQgQXByIDIwMTEgMTc6MTc6NDUgLTAwMDAKQEAgLTQ3NCwxNiAr
NDc0LDE4IEBAIFNFQ19HZXRTaWduYXR1cmVBbGdvcml0aG1PaWRUYWcoS2V5VHlwZSAKIAlzd2l0
Y2ggKGhhc2hBbGdUYWcpIHsKIAljYXNlIFNFQ19PSURfTUQyOgogCSAgICBzaWdUYWcgPSBTRUNf
T0lEX1BLQ1MxX01EMl9XSVRIX1JTQV9FTkNSWVBUSU9OOwlicmVhazsKIAljYXNlIFNFQ19PSURf
TUQ1OgogCSAgICBzaWdUYWcgPSBTRUNfT0lEX1BLQ1MxX01ENV9XSVRIX1JTQV9FTkNSWVBUSU9O
OwlicmVhazsKIAljYXNlIFNFQ19PSURfVU5LTk9XTjoJLyogZGVmYXVsdCBmb3IgUlNBIGlmIG5v
dCBzcGVjaWZpZWQgKi8KIAljYXNlIFNFQ19PSURfU0hBMToKIAkgICAgc2lnVGFnID0gU0VDX09J
RF9QS0NTMV9TSEExX1dJVEhfUlNBX0VOQ1JZUFRJT047CWJyZWFrOworCWNhc2UgU0VDX09JRF9T
SEEyMjQ6CisJICAgIHNpZ1RhZyA9IFNFQ19PSURfUEtDUzFfU0hBMjI0X1dJVEhfUlNBX0VOQ1JZ
UFRJT047CWJyZWFrOwogCWNhc2UgU0VDX09JRF9TSEEyNTY6CiAJICAgIHNpZ1RhZyA9IFNFQ19P
SURfUEtDUzFfU0hBMjU2X1dJVEhfUlNBX0VOQ1JZUFRJT047CWJyZWFrOwogCWNhc2UgU0VDX09J
RF9TSEEzODQ6CiAJICAgIHNpZ1RhZyA9IFNFQ19PSURfUEtDUzFfU0hBMzg0X1dJVEhfUlNBX0VO
Q1JZUFRJT047CWJyZWFrOwogCWNhc2UgU0VDX09JRF9TSEE1MTI6CiAJICAgIHNpZ1RhZyA9IFNF
Q19PSURfUEtDUzFfU0hBNTEyX1dJVEhfUlNBX0VOQ1JZUFRJT047CWJyZWFrOwogCWRlZmF1bHQ6
CiAJICAgIGJyZWFrOwpJbmRleDogc2VjdXJpdHkvbnNzL2xpYi9jcnlwdG9oaS9zZWN2ZnkuYwo9
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09ClJDUyBmaWxlOiAvY3Zzcm9vdC9tb3ppbGxhL3NlY3VyaXR5L25zcy9saWIvY3J5
cHRvaGkvc2VjdmZ5LmMsdgpyZXRyaWV2aW5nIHJldmlzaW9uIDEuMjQKZGlmZiAtdSAtcCAtOCAt
cjEuMjQgc2VjdmZ5LmMKLS0tIHNlY3VyaXR5L25zcy9saWIvY3J5cHRvaGkvc2VjdmZ5LmMJMjMg
SnVuIDIwMTAgMDI6MTM6NTYgLTAwMDAJMS4yNAorKysgc2VjdXJpdHkvbnNzL2xpYi9jcnlwdG9o
aS9zZWN2ZnkuYwk0IEFwciAyMDExIDE3OjE3OjQ2IC0wMDAwCkBAIC0yMzYsMTYgKzIzNiwxOSBA
QCBzZWNfRGVjb2RlU2lnQWxnKGNvbnN0IFNFQ0tFWVB1YmxpY0tleSAqCiAgICAgICBjYXNlIFNF
Q19PSURfSVNPX1NIQTFfV0lUSF9SU0FfU0lHTkFUVVJFOgogICAgICAgICAqaGFzaGFsZyA9IFNF
Q19PSURfU0hBMTsKIAlicmVhazsKICAgICAgIGNhc2UgU0VDX09JRF9QS0NTMV9SU0FfRU5DUllQ
VElPTjoKICAgICAgIGNhc2UgU0VDX09JRF9QS0NTMV9SU0FfUFNTX1NJR05BVFVSRToKICAgICAg
ICAgKmhhc2hhbGcgPSBTRUNfT0lEX1VOS05PV047IC8qIGdldCBpdCBmcm9tIHRoZSBSU0Egc2ln
bmF0dXJlICovCiAJYnJlYWs7CiAKKyAgICAgIGNhc2UgU0VDX09JRF9QS0NTMV9TSEEyMjRfV0lU
SF9SU0FfRU5DUllQVElPTjoKKwkqaGFzaGFsZyA9IFNFQ19PSURfU0hBMjI0OworCWJyZWFrOwog
ICAgICAgY2FzZSBTRUNfT0lEX0FOU0lYOTYyX0VDRFNBX1NIQTI1Nl9TSUdOQVRVUkU6CiAgICAg
ICBjYXNlIFNFQ19PSURfUEtDUzFfU0hBMjU2X1dJVEhfUlNBX0VOQ1JZUFRJT046CiAJKmhhc2hh
bGcgPSBTRUNfT0lEX1NIQTI1NjsKIAlicmVhazsKICAgICAgIGNhc2UgU0VDX09JRF9BTlNJWDk2
Ml9FQ0RTQV9TSEEzODRfU0lHTkFUVVJFOgogICAgICAgY2FzZSBTRUNfT0lEX1BLQ1MxX1NIQTM4
NF9XSVRIX1JTQV9FTkNSWVBUSU9OOgogCSpoYXNoYWxnID0gU0VDX09JRF9TSEEzODQ7CiAJYnJl
YWs7CkBAIC0zMTgsMTYgKzMyMSwxNyBAQCBzZWNfRGVjb2RlU2lnQWxnKGNvbnN0IFNFQ0tFWVB1
YmxpY0tleSAqCiAgICAgLyogZ2V0IHRoZSAiZW5jcnlwdGlvbiIgYWxnb3JpdGhtICovIAogICAg
IHN3aXRjaCAoc2lnQWxnKSB7CiAgICAgICBjYXNlIFNFQ19PSURfUEtDUzFfUlNBX0VOQ1JZUFRJ
T046CiAgICAgICBjYXNlIFNFQ19PSURfUEtDUzFfTUQyX1dJVEhfUlNBX0VOQ1JZUFRJT046CiAg
ICAgICBjYXNlIFNFQ19PSURfUEtDUzFfTUQ1X1dJVEhfUlNBX0VOQ1JZUFRJT046CiAgICAgICBj
YXNlIFNFQ19PSURfUEtDUzFfU0hBMV9XSVRIX1JTQV9FTkNSWVBUSU9OOgogICAgICAgY2FzZSBT
RUNfT0lEX0lTT19TSEFfV0lUSF9SU0FfU0lHTkFUVVJFOgogICAgICAgY2FzZSBTRUNfT0lEX0lT
T19TSEExX1dJVEhfUlNBX1NJR05BVFVSRToKKyAgICAgIGNhc2UgU0VDX09JRF9QS0NTMV9TSEEy
MjRfV0lUSF9SU0FfRU5DUllQVElPTjoKICAgICAgIGNhc2UgU0VDX09JRF9QS0NTMV9TSEEyNTZf
V0lUSF9SU0FfRU5DUllQVElPTjoKICAgICAgIGNhc2UgU0VDX09JRF9QS0NTMV9TSEEzODRfV0lU
SF9SU0FfRU5DUllQVElPTjoKICAgICAgIGNhc2UgU0VDX09JRF9QS0NTMV9TSEE1MTJfV0lUSF9S
U0FfRU5DUllQVElPTjoKIAkqZW5jYWxnID0gU0VDX09JRF9QS0NTMV9SU0FfRU5DUllQVElPTjsK
IAlicmVhazsKICAgICAgIGNhc2UgU0VDX09JRF9QS0NTMV9SU0FfUFNTX1NJR05BVFVSRToKIAkq
ZW5jYWxnID0gU0VDX09JRF9QS0NTMV9SU0FfUFNTX1NJR05BVFVSRTsKIAlicmVhazsK
</data>

          </attachment>
      

    </bug>

</bugzilla>