<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugzilla.mozilla.org/bugzilla.dtd">

<bugzilla version="3.6.4+"
          urlbase="https://bugzilla.mozilla.org/"
          
          maintainer="bugzilla-admin@mozilla.org"
>

    <bug>
          <bug_id>648252</bug_id>
          
          <creation_ts>2011-04-07 06:40:00 -0700</creation_ts>
          <short_desc>Remove nsViewSourceHTML.cpp/h from the tree</short_desc>
          <delta_ts>2011-04-07 07:33:52 -0700</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>3</classification_id>
          <classification>Components</classification>
          <product>Core</product>
          <component>HTML: Parser</component>
          <version>Trunk</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>ASSIGNED</bug_status>
          
          
          
          
          
          
          <priority>--</priority>
          <bug_severity>trivial</bug_severity>
          <target_milestone>---</target_milestone>
          <dependson>482921</dependson>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Henri Sivonen (:hsivonen)">hsivonen</reporter>
          <assigned_to name="Henri Sivonen (:hsivonen)">hsivonen</assigned_to>
          <cc>matjk7</cc>
          <qa_contact>parser</qa_contact>
          <cf_blocking_fennec>---</cf_blocking_fennec>
          <cf_blocking_fx>---</cf_blocking_fx>
          <cf_blocking_20>---</cf_blocking_20>
          <cf_status_20>---</cf_status_20>
          <cf_blocking_192>---</cf_blocking_192>
          <cf_status_192>---</cf_status_192>
          <cf_blocking_191>---</cf_blocking_191>
          <cf_status_191>---</cf_status_191>
          
          
          
          
          
          
          
          
          
          

      

      

      

          <long_desc isprivate="0">
            <commentid>5394318</commentid>
            <who name="Henri Sivonen (:hsivonen)">hsivonen</who>
            <bug_when>2011-04-07 06:40:58 -0700</bug_when>
            <thetext>Get rid of nsViewSourceHTML.cpp and .h.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>5394320</commentid>
              <attachid>524394</attachid>
            <who name="Henri Sivonen (:hsivonen)">hsivonen</who>
            <bug_when>2011-04-07 06:44:15 -0700</bug_when>
            <thetext>Created attachment 524394
Zap nsViewSourceHTML

I tried to remove more artifacts of the old view source, including parser commands, but it turned out that doing so makes the dominoes fall causing changes all over the place. I think it&apos;s not worth doing that expect as part of removing nsParser from the tree eventually.</thetext>
          </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
              isurl="0"
          >
            <attachid>524394</attachid>
            <date>2011-04-07 06:44:00 -0700</date>
            <delta_ts>2011-04-07 06:44:15 -0700</delta_ts>
            <desc>Zap nsViewSourceHTML</desc>
            <filename>removeoldviewsource</filename>
            <type>text/plain</type>
            <size>55604</size>
            <attacher>hsivonen</attacher>
            
              <data encoding="base64">IyBIRyBjaGFuZ2VzZXQgcGF0Y2gKIyBVc2VyIEhlbnJpIFNpdm9uZW4gPGhzaXZvbmVuQGlraS5m
aT4KIyBEYXRlIDEzMDIxODM3MTMgLTEwODAwCiMgTm9kZSBJRCAzMDVjMDdlODA5ZDNjYjhmMDMy
NzYzNjUxYjExNjc2YWEwZGEyNzJkCiMgUGFyZW50ICBmYjlmZjllMDE3ZGFmYjJlNTEyNmNjNjQ0
NTdkMGY0NzhlNzNlMTIwCkJ1ZyA2NDgyNTIgLSBSZW1vdmUgbnNWaWV3U291cmNlSFRNTCBmcm9t
IHRoZSB0cmVlLiByPU5PVF9SRVZJRVdFRC4KCmRpZmYgLS1naXQgYS9wYXJzZXIvaHRtbHBhcnNl
ci9zcmMvTWFrZWZpbGUuaW4gYi9wYXJzZXIvaHRtbHBhcnNlci9zcmMvTWFrZWZpbGUuaW4KLS0t
IGEvcGFyc2VyL2h0bWxwYXJzZXIvc3JjL01ha2VmaWxlLmluCisrKyBiL3BhcnNlci9odG1scGFy
c2VyL3NyYy9NYWtlZmlsZS5pbgpAQCAtNjksMTcgKzY5LDE2IEBAIENQUFNSQ1MgPSBcCiAJCW5z
UGFyc2VyLmNwcCAgICAgICAgXAogCQlDUGFyc2VyQ29udGV4dC5jcHAgIFwKIAkJbnNQYXJzZXJT
ZXJ2aWNlLmNwcCBcCiAJCW5zUGFyc2VyTW9kdWxlLmNwcCAgXAogCQluc1BhcnNlck5vZGUuY3Bw
ICAgIFwKIAkJbnNTY2FubmVyLmNwcCAgICAgICBcCiAJCW5zVG9rZW4uY3BwICAgICAgICAgXAog
CQluc1BhcnNlck1zZ1V0aWxzLmNwcFwKLQkJbnNWaWV3U291cmNlSFRNTC5jcHAgICBcCiAJCSQo
TlVMTCkKIAogaWZkZWYgTU9aX0RFQlVHCiBDUFBTUkNTICs9IFwKIAkJbnNMb2dnaW5nU2luay5j
cHAgICBcCiAJCSQoTlVMTCkKIGVuZGlmCiAKZGlmZiAtLWdpdCBhL3BhcnNlci9odG1scGFyc2Vy
L3NyYy9uc1BhcnNlci5jcHAgYi9wYXJzZXIvaHRtbHBhcnNlci9zcmMvbnNQYXJzZXIuY3BwCi0t
LSBhL3BhcnNlci9odG1scGFyc2VyL3NyYy9uc1BhcnNlci5jcHAKKysrIGIvcGFyc2VyL2h0bWxw
YXJzZXIvc3JjL25zUGFyc2VyLmNwcApAQCAtNjYsMTcgKzY2LDE2IEBACiAjaW5jbHVkZSAibnNI
VE1MVG9rZW5pemVyLmgiCiAjaW5jbHVkZSAibnNJRG9jdW1lbnQuaCIKICNpbmNsdWRlICJuc05l
dFV0aWwuaCIKICNpbmNsdWRlICJuc1NjcmlwdExvYWRlci5oIgogI2luY2x1ZGUgIm5zRGF0YUhh
c2h0YWJsZS5oIgogI2luY2x1ZGUgIm5zSVRocmVhZFBvb2wuaCIKICNpbmNsdWRlICJuc1hQQ09N
Q0lESW50ZXJuYWwuaCIKICNpbmNsdWRlICJuc01pbWVUeXBlcy5oIgotI2luY2x1ZGUgIm5zVmll
d1NvdXJjZUhUTUwuaCIKICNpbmNsdWRlICJtb3ppbGxhL0NvbmRWYXIuaCIKICNpbmNsdWRlICJt
b3ppbGxhL011dGV4LmgiCiAjaW5jbHVkZSAibnNQYXJzZXJDb25zdGFudHMuaCIKIAogdXNpbmcg
bmFtZXNwYWNlIG1vemlsbGE7CiAKICNkZWZpbmUgTlNfUEFSU0VSX0ZMQUdfUEFSU0VSX0VOQUJM
RUQgICAgICAgICAweDAwMDAwMDAyCiAjZGVmaW5lIE5TX1BBUlNFUl9GTEFHX09CU0VSVkVSU19F
TkFCTEVEICAgICAgMHgwMDAwMDAwNApAQCAtMTQxOCwxOSArMTQxNywxOCBAQCBEZXRlcm1pbmVQ
YXJzZU1vZGUoY29uc3QgbnNTdHJpbmcmIGFCdWZmCiAKIHN0YXRpYyBuc0lEVEQqCiBGaW5kU3Vp
dGFibGVEVEQoQ1BhcnNlckNvbnRleHQmIGFQYXJzZXJDb250ZXh0KQogewogICAvLyBXZSBhbHdh
eXMgZmluZCBhIERURC4KICAgYVBhcnNlckNvbnRleHQubUF1dG9EZXRlY3RTdGF0dXMgPSBlUHJp
bWFyeURldGVjdDsKIAogICAvLyBRdWljayBjaGVjayBmb3IgdmlldyBzb3VyY2UuCi0gIGlmIChh
UGFyc2VyQ29udGV4dC5tUGFyc2VyQ29tbWFuZCA9PSBlVmlld1NvdXJjZSkgewotICAgIHJldHVy
biBuZXcgQ1ZpZXdTb3VyY2VIVE1MKCk7Ci0gIH0KKyAgTlNfQUJPUlRfSUZfRkFMU0UoYVBhcnNl
ckNvbnRleHQubVBhcnNlckNvbW1hbmQgIT0gZVZpZXdTb3VyY2UsCisgICAgIlRoZSBvbGQgcGFy
c2VyIGlzIG5vdCBzdXBwb3NlZCB0byBiZSB1c2VkIGZvciBWaWV3IFNvdXJjZSBhbnltb3JlLiIp
OwogCiAgIC8vIE5vdyBzZWUgaWYgd2UncmUgcGFyc2luZyBIVE1MICh3aGljaCwgYXMgZmFyIGFz
IHdlJ3JlIGNvbmNlcm5lZCwgc2ltcGx5CiAgIC8vIG1lYW5zICJub3QgWE1MIikuCiAgIGlmIChh
UGFyc2VyQ29udGV4dC5tRG9jVHlwZSAhPSBlWE1MKSB7CiAgICAgcmV0dXJuIG5ldyBDTmF2RFRE
KCk7CiAgIH0KIAogICAvLyBJZiB3ZSdyZSBoZXJlLCB0aGVuIHdlJ2QgYmV0dGVyIGJlIHBhcnNp
bmcgWE1MLgpkaWZmIC0tZ2l0IGEvcGFyc2VyL2h0bWxwYXJzZXIvc3JjL25zUGFyc2VyTW9kdWxl
LmNwcCBiL3BhcnNlci9odG1scGFyc2VyL3NyYy9uc1BhcnNlck1vZHVsZS5jcHAKLS0tIGEvcGFy
c2VyL2h0bWxwYXJzZXIvc3JjL25zUGFyc2VyTW9kdWxlLmNwcAorKysgYi9wYXJzZXIvaHRtbHBh
cnNlci9zcmMvbnNQYXJzZXJNb2R1bGUuY3BwCkBAIC00NywxNyArNDcsMTYgQEAKICNpbmNsdWRl
ICJuc0hUTUxFbnRpdGllcy5oIgogI2luY2x1ZGUgIm5zSFRNTFRva2VuaXplci5oIgogLy8jaW5j
bHVkZSAibnNUZXh0VG9rZW5pemVyLmgiCiAjaW5jbHVkZSAibnNFbGVtZW50VGFibGUuaCIKICNp
bmNsdWRlICJuc1BhcnNlclNlcnZpY2UuaCIKICNpbmNsdWRlICJuc1NBWEF0dHJpYnV0ZXMuaCIK
ICNpbmNsdWRlICJuc1NBWExvY2F0b3IuaCIKICNpbmNsdWRlICJuc1NBWFhNTFJlYWRlci5oIgot
I2luY2x1ZGUgIm5zVmlld1NvdXJjZUhUTUwuaCIKIAogI2lmIGRlZmluZWQoTlNfREVCVUcpCiAj
aW5jbHVkZSAibnNMb2dnaW5nU2luay5oIgogI2luY2x1ZGUgIm5zRXhwYXREcml2ZXIuaCIKICNl
bmRpZgogCiAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIApAQCAtNjUsNDAgKzY0LDM2IEBACiBOU19HRU5FUklD
X0ZBQ1RPUllfQ09OU1RSVUNUT1IobnNMb2dnaW5nU2luaykKIE5TX0dFTkVSSUNfRkFDVE9SWV9D
T05TVFJVQ1RPUihuc0V4cGF0RHJpdmVyKQogI2VuZGlmCiAKIE5TX0dFTkVSSUNfRkFDVE9SWV9D
T05TVFJVQ1RPUihuc1BhcnNlcikKIE5TX0dFTkVSSUNfRkFDVE9SWV9DT05TVFJVQ1RPUihDTmF2
RFREKQogTlNfR0VORVJJQ19GQUNUT1JZX0NPTlNUUlVDVE9SKG5zUGFyc2VyU2VydmljZSkKIAot
TlNfR0VORVJJQ19GQUNUT1JZX0NPTlNUUlVDVE9SKENWaWV3U291cmNlSFRNTCkKLQogTlNfR0VO
RVJJQ19GQUNUT1JZX0NPTlNUUlVDVE9SKG5zU0FYQXR0cmlidXRlcykKIE5TX0dFTkVSSUNfRkFD
VE9SWV9DT05TVFJVQ1RPUihuc1NBWFhNTFJlYWRlcikKIAogI2lmIGRlZmluZWQoTlNfREVCVUcp
CiBOU19ERUZJTkVfTkFNRURfQ0lEKE5TX0xPR0dJTkdfU0lOS19DSUQpOwogTlNfREVGSU5FX05B
TUVEX0NJRChOU19FWFBBVF9EUklWRVJfQ0lEKTsKICNlbmRpZgogTlNfREVGSU5FX05BTUVEX0NJ
RChOU19QQVJTRVJfQ0lEKTsKIE5TX0RFRklORV9OQU1FRF9DSUQoTlNfQ05BVkRURF9DSUQpOwot
TlNfREVGSU5FX05BTUVEX0NJRChOU19WSUVXU09VUkNFX0RURF9DSUQpOwogTlNfREVGSU5FX05B
TUVEX0NJRChOU19QQVJTRVJTRVJWSUNFX0NJRCk7CiBOU19ERUZJTkVfTkFNRURfQ0lEKE5TX1NB
WEFUVFJJQlVURVNfQ0lEKTsKIE5TX0RFRklORV9OQU1FRF9DSUQoTlNfU0FYWE1MUkVBREVSX0NJ
RCk7CiAKIHN0YXRpYyBjb25zdCBtb3ppbGxhOjpNb2R1bGU6OkNJREVudHJ5IGtQYXJzZXJDSURz
W10gPSB7CiAjaWYgZGVmaW5lZChOU19ERUJVRykKICAgeyAma05TX0xPR0dJTkdfU0lOS19DSUQs
IGZhbHNlLCBOVUxMLCBuc0xvZ2dpbmdTaW5rQ29uc3RydWN0b3IgfSwKICAgeyAma05TX0VYUEFU
X0RSSVZFUl9DSUQsIGZhbHNlLCBOVUxMLCBuc0V4cGF0RHJpdmVyQ29uc3RydWN0b3IgfSwKICNl
bmRpZgogICB7ICZrTlNfUEFSU0VSX0NJRCwgZmFsc2UsIE5VTEwsIG5zUGFyc2VyQ29uc3RydWN0
b3IgfSwKICAgeyAma05TX0NOQVZEVERfQ0lELCBmYWxzZSwgTlVMTCwgQ05hdkRURENvbnN0cnVj
dG9yIH0sCi0gIHsgJmtOU19WSUVXU09VUkNFX0RURF9DSUQsIGZhbHNlLCBOVUxMLCBDVmlld1Nv
dXJjZUhUTUxDb25zdHJ1Y3RvciB9LAogICB7ICZrTlNfUEFSU0VSU0VSVklDRV9DSUQsIGZhbHNl
LCBOVUxMLCBuc1BhcnNlclNlcnZpY2VDb25zdHJ1Y3RvciB9LAogICB7ICZrTlNfU0FYQVRUUklC
VVRFU19DSUQsIGZhbHNlLCBOVUxMLCBuc1NBWEF0dHJpYnV0ZXNDb25zdHJ1Y3RvciB9LAogICB7
ICZrTlNfU0FYWE1MUkVBREVSX0NJRCwgZmFsc2UsIE5VTEwsIG5zU0FYWE1MUmVhZGVyQ29uc3Ry
dWN0b3IgfSwKICAgeyBOVUxMIH0KIH07CiAKIHN0YXRpYyBjb25zdCBtb3ppbGxhOjpNb2R1bGU6
OkNvbnRyYWN0SURFbnRyeSBrUGFyc2VyQ29udHJhY3RzW10gPSB7CiAgIHsgTlNfUEFSU0VSU0VS
VklDRV9DT05UUkFDVElELCAma05TX1BBUlNFUlNFUlZJQ0VfQ0lEIH0sCmRpZmYgLS1naXQgYS9w
YXJzZXIvaHRtbHBhcnNlci9zcmMvbnNWaWV3U291cmNlSFRNTC5jcHAgYi9wYXJzZXIvaHRtbHBh
cnNlci9zcmMvbnNWaWV3U291cmNlSFRNTC5jcHAKZGVsZXRlZCBmaWxlIG1vZGUgMTAwNjQ0Ci0t
LSBhL3BhcnNlci9odG1scGFyc2VyL3NyYy9uc1ZpZXdTb3VyY2VIVE1MLmNwcAorKysgL2Rldi9u
dWxsCkBAIC0xLDEzODEgKzAsMCBAQAotLyogLSotIE1vZGU6IEMrKzsgdGFiLXdpZHRoOiAyOyBp
bmRlbnQtdGFicy1tb2RlOiBuaWw7IGMtYmFzaWMtb2Zmc2V0OiAyIC0qLSAqLwotLyogdmltOiBz
ZXQgc3c9MiB0cz0yIGV0IHR3PTc4OiAqLwotLyogKioqKiogQkVHSU4gTElDRU5TRSBCTE9DSyAq
KioqKgotICogVmVyc2lvbjogTVBMIDEuMS9HUEwgMi4wL0xHUEwgMi4xCi0gKgotICogVGhlIGNv
bnRlbnRzIG9mIHRoaXMgZmlsZSBhcmUgc3ViamVjdCB0byB0aGUgTW96aWxsYSBQdWJsaWMgTGlj
ZW5zZSBWZXJzaW9uCi0gKiAxLjEgKHRoZSAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UgdGhp
cyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGgKLSAqIHRoZSBMaWNlbnNlLiBZb3UgbWF5
IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKLSAqIGh0dHA6Ly93d3cubW96aWxsYS5v
cmcvTVBMLwotICoKLSAqIFNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlz
IGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgYmFzaXMsCi0gKiBXSVRIT1VUIFdBUlJBTlRZIE9G
IEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UKLSAq
IGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHJpZ2h0cyBhbmQgbGltaXRhdGlv
bnMgdW5kZXIgdGhlCi0gKiBMaWNlbnNlLgotICoKLSAqIFRoZSBPcmlnaW5hbCBDb2RlIGlzIG1v
emlsbGEub3JnIGNvZGUuCi0gKgotICogVGhlIEluaXRpYWwgRGV2ZWxvcGVyIG9mIHRoZSBPcmln
aW5hbCBDb2RlIGlzCi0gKiBOZXRzY2FwZSBDb21tdW5pY2F0aW9ucyBDb3Jwb3JhdGlvbi4KLSAq
IFBvcnRpb25zIGNyZWF0ZWQgYnkgdGhlIEluaXRpYWwgRGV2ZWxvcGVyIGFyZSBDb3B5cmlnaHQg
KEMpIDE5OTgKLSAqIHRoZSBJbml0aWFsIERldmVsb3Blci4gQWxsIFJpZ2h0cyBSZXNlcnZlZC4K
LSAqCi0gKiBDb250cmlidXRvcihzKToKLSAqICAgamNlMkBwby5jd3J1LmVkdSA8SmFzb24gRWFn
ZXI+OiBBZGRlZCBwcmVmIHRvIHR1cm4gb24vb2ZmCi0gKiAgIEJvcmlzIFpiYXJza3kgPGJ6YmFy
c2t5QG1pdC5lZHU+Ci0gKiAgIHJic0BtYXRocy51cS5lZHUuYXUKLSAqICAgQW5kcmVhcyBNLiBT
Y2huZWlkZXIgPGNsYXJlbmNlQGNsYXJlbmNlLmRlPgotICoKLSAqIEFsdGVybmF0aXZlbHksIHRo
ZSBjb250ZW50cyBvZiB0aGlzIGZpbGUgbWF5IGJlIHVzZWQgdW5kZXIgdGhlIHRlcm1zIG9mCi0g
KiBlaXRoZXIgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIFZlcnNpb24gMiBvciBs
YXRlciAodGhlICJHUEwiKSwKLSAqIG9yIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExp
Y2Vuc2UgVmVyc2lvbiAyLjEgb3IgbGF0ZXIgKHRoZSAiTEdQTCIpLAotICogaW4gd2hpY2ggY2Fz
ZSB0aGUgcHJvdmlzaW9ucyBvZiB0aGUgR1BMIG9yIHRoZSBMR1BMIGFyZSBhcHBsaWNhYmxlIGlu
c3RlYWQKLSAqIG9mIHRob3NlIGFib3ZlLiBJZiB5b3Ugd2lzaCB0byBhbGxvdyB1c2Ugb2YgeW91
ciB2ZXJzaW9uIG9mIHRoaXMgZmlsZSBvbmx5Ci0gKiB1bmRlciB0aGUgdGVybXMgb2YgZWl0aGVy
IHRoZSBHUEwgb3IgdGhlIExHUEwsIGFuZCBub3QgdG8gYWxsb3cgb3RoZXJzIHRvCi0gKiB1c2Ug
eW91ciB2ZXJzaW9uIG9mIHRoaXMgZmlsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1QTCwgaW5k
aWNhdGUgeW91cgotICogZGVjaXNpb24gYnkgZGVsZXRpbmcgdGhlIHByb3Zpc2lvbnMgYWJvdmUg
YW5kIHJlcGxhY2UgdGhlbSB3aXRoIHRoZSBub3RpY2UKLSAqIGFuZCBvdGhlciBwcm92aXNpb25z
IHJlcXVpcmVkIGJ5IHRoZSBHUEwgb3IgdGhlIExHUEwuIElmIHlvdSBkbyBub3QgZGVsZXRlCi0g
KiB0aGUgcHJvdmlzaW9ucyBhYm92ZSwgYSByZWNpcGllbnQgbWF5IHVzZSB5b3VyIHZlcnNpb24g
b2YgdGhpcyBmaWxlIHVuZGVyCi0gKiB0aGUgdGVybXMgb2YgYW55IG9uZSBvZiB0aGUgTVBMLCB0
aGUgR1BMIG9yIHRoZSBMR1BMLgotICoKLSAqICoqKioqIEVORCBMSUNFTlNFIEJMT0NLICoqKioq
ICovCi0KLS8qCi0gKiBTZXQgTlNfVklFV1NPVVJDRV9UT0tFTlNfUEVSX0JMT0NLIHRvIDAgdG8g
ZGlzYWJsZSBtdWx0aS1ibG9jawotICogb3V0cHV0LiAgTXVsdGktYmxvY2sgb3V0cHV0IGhlbHBz
IHJlZHVjZSB0aGUgYW1vdW50IG9mIGJpZGkKLSAqIHByb2Nlc3Npbmcgd2UgaGF2ZSB0byBkbyBv
biB0aGUgcmVzdWx0aW5nIGNvbnRlbnQgbW9kZWwuCi0gKi8KLSNkZWZpbmUgTlNfVklFV1NPVVJD
RV9UT0tFTlNfUEVSX0JMT0NLIDE2Ci0KLSNpbmNsdWRlICJuc0lBdG9tLmgiCi0jaW5jbHVkZSAi
bnNWaWV3U291cmNlSFRNTC5oIgotI2luY2x1ZGUgIm5zQ1JULmgiCi0jaW5jbHVkZSAibnNQYXJz
ZXIuaCIKLSNpbmNsdWRlICJuc1NjYW5uZXIuaCIKLSNpbmNsdWRlICJuc0RURFV0aWxzLmgiCi0j
aW5jbHVkZSAibnNJQ29udGVudFNpbmsuaCIKLSNpbmNsdWRlICJuc0lIVE1MQ29udGVudFNpbmsu
aCIKLSNpbmNsdWRlICJuc0hUTUxUb2tlbml6ZXIuaCIKLSNpbmNsdWRlICJuc0lQcmVmU2Vydmlj
ZS5oIgotI2luY2x1ZGUgIm5zSVByZWZCcmFuY2guaCIKLSNpbmNsdWRlICJuc1VuaWNoYXJVdGls
cy5oIgotI2luY2x1ZGUgIm5zUHJpbnRmQ1N0cmluZy5oIgotI2luY2x1ZGUgIm5zTmV0VXRpbC5o
IgotI2luY2x1ZGUgIm5zSFRNTEVudGl0aWVzLmgiCi0jaW5jbHVkZSAibnNQYXJzZXJDb25zdGFu
dHMuaCIKLQotI2luY2x1ZGUgIm5zSVNlcnZpY2VNYW5hZ2VyLmgiCi0KLSNpbmNsdWRlICJuc0Vs
ZW1lbnRUYWJsZS5oIgotCi0jaW5jbHVkZSAicHJlbnYuaCIgIC8vdGhpcyBpcyBoZXJlIGZvciBk
ZWJ1ZyByZWFzb25zLi4uCi0jaW5jbHVkZSAicHJ0eXBlcy5oIiAgLy90aGlzIGlzIGhlcmUgZm9y
IGRlYnVnIHJlYXNvbnMuLi4KLSNpbmNsdWRlICJwcmlvLmgiCi0jaW5jbHVkZSAicGxzdHIuaCIK
LSNpbmNsdWRlICJwcm1lbS5oIgotCi0jaWZkZWYgUkFQVE9SX1BFUkZfTUVUUklDUwotI2luY2x1
ZGUgInN0b3B3YXRjaC5oIgotU3RvcHdhdGNoIHZzVGltZXI7Ci0jZW5kaWYKLQotCi0KLS8vIERl
ZmluZSB0aGlzIHRvIGR1bXAgdGhlIHZpZXdzb3VyY2Ugc3R1ZmYgdG8gYSBmaWxlCi0vLyNkZWZp
bmUgRFVNUF9UT19GSUxFCi0jaWZkZWYgRFVNUF9UT19GSUxFCi0jaW5jbHVkZSA8c3RkaW8uaD4K
LSAgRklMRSogZ0R1bXBGaWxlPTA7Ci0gIHN0YXRpYyBjb25zdCBjaGFyKiBnRHVtcEZpbGVOYW1l
ID0gIi90bXAvdmlld3NvdXJjZS5odG1sIjsKLS8vICBzdGF0aWMgY29uc3QgY2hhciogZ0R1bXBG
aWxlTmFtZSA9ICJcXHRlbXBcXHZpZXdzb3VyY2UuaHRtbCI7Ci0jZW5kaWYgLy8gRFVNUF9UT19G
SUxFCi0KLS8vIGJ1ZyAyMjAyMiAtIHRoZXNlIGFyZSB1c2VkIHRvIHRvZ2dsZSAnV3JhcCBMb25n
IExpbmVzJyBvbiB0aGUgdmlld3NvdXJjZQotLy8gd2luZG93IGJ5IHNlbGVjdGl2ZWx5IHNldHRp
bmcvdW5zZXR0aW5nIHRoZSBmb2xsb3dpbmcgY2xhc3MgZGVmaW5lZCBpbgotLy8gdmlld3NvdXJj
ZS5jc3M7IHRoZSBzZXR0aW5nIGlzIHJlbWVtYmVyZWQgYmV0d2VlbiBpbnZvY2F0aW9ucyB1c2lu
ZyBhIHByZWYuCi1zdGF0aWMgY29uc3QgY2hhciBrQm9keUlkW10gPSAidmlld3NvdXJjZSI7Ci1z
dGF0aWMgY29uc3QgY2hhciBrQm9keUNsYXNzV3JhcFtdID0gIndyYXAiOwotc3RhdGljIGNvbnN0
IGNoYXIga0JvZHlUYWJTaXplW10gPSAiLW1vei10YWItc2l6ZTogIjsKLQotTlNfSU1QTF9JU1VQ
UE9SVFMxKENWaWV3U291cmNlSFRNTCwgbnNJRFREKQotCi0vKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioKLSAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKi8KLQotZW51bSB7Ci0gIGtTdGFydFRhZyA9IDAsCi0gIGtFbmRUYWcsCi0g
IGtDb21tZW50LAotICBrQ0RhdGEsCi0gIGtEb2N0eXBlLAotICBrUEksCi0gIGtFbnRpdHksCi0g
IGtUZXh0LAotICBrQXR0cmlidXRlTmFtZSwKLSAga0F0dHJpYnV0ZVZhbHVlLAotICBrTWFya3Vw
RGVjbAotfTsKLQotc3RhdGljIGNvbnN0IGNoYXIqIGNvbnN0IGtFbGVtZW50Q2xhc3Nlc1tdID0g
ewotICAic3RhcnQtdGFnIiwKLSAgImVuZC10YWciLAotICAiY29tbWVudCIsCi0gICJjZGF0YSIs
Ci0gICJkb2N0eXBlIiwKLSAgInBpIiwKLSAgImVudGl0eSIsCi0gICJ0ZXh0IiwKLSAgImF0dHJp
YnV0ZS1uYW1lIiwKLSAgImF0dHJpYnV0ZS12YWx1ZSIsCi0gICJtYXJrdXBkZWNsYXJhdGlvbiIK
LX07Ci0KLXN0YXRpYyBjb25zdCBjaGFyKiBjb25zdCBrQmVmb3JlVGV4dFtdID0gewotICAiPCIs
Ci0gICI8LyIsCi0gICIiLAotICAiIiwKLSAgIiIsCi0gICIiLAotICAiJiIsCi0gICIiLAotICAi
IiwKLSAgIj0iLAotICAiIgotfTsKLQotc3RhdGljIGNvbnN0IGNoYXIqIGNvbnN0IGtBZnRlclRl
eHRbXSA9IHsKLSAgIj4iLAotICAiPiIsCi0gICIiLAotICAiIiwKLSAgIiIsCi0gICIiLAotICAi
IiwKLSAgIiIsCi0gICIiLAotICAiIiwKLSAgIiIKLX07Ci0KLSNpZmRlZiBEVU1QX1RPX0ZJTEUK
LXN0YXRpYyBjb25zdCBjaGFyKiBjb25zdCBrRHVtcEZpbGVCZWZvcmVUZXh0W10gPSB7Ci0gICIm
bHQ7IiwKLSAgIiZsdDsvIiwKLSAgIiIsCi0gICIiLAotICAiIiwKLSAgIiIsCi0gICImYW1wOyIs
Ci0gICIiLAotICAiIiwKLSAgIj0iLAotICAiIgotfTsKLQotc3RhdGljIGNvbnN0IGNoYXIqIGNv
bnN0IGtEdW1wRmlsZUFmdGVyVGV4dFtdID0gewotICAiJmd0OyIsCi0gICImZ3Q7IiwKLSAgIiIs
Ci0gICIiLAotICAiIiwKLSAgIiIsCi0gICIiLAotICAiIiwKLSAgIiIsCi0gICIiLAotICAiIgot
fTsKLSNlbmRpZiAvLyBEVU1QX1RPX0ZJTEUKLQotLyoqCi0gKiAgRGVmYXVsdCBjb25zdHJ1Y3Rv
cgotICoKLSAqICBAdXBkYXRlICBnZXNzIDQvOS85OAotICogIEBwYXJhbQotICogIEByZXR1cm4K
LSAqLwotQ1ZpZXdTb3VyY2VIVE1MOjpDVmlld1NvdXJjZUhUTUwoKQotewotICBtU3ludGF4SGln
aGxpZ2h0ID0gUFJfRkFMU0U7Ci0gIG1XcmFwTG9uZ0xpbmVzID0gUFJfRkFMU0U7Ci0gIG1UYWJT
aXplID0gLTE7Ci0gIG5zQ09NUHRyPG5zSVByZWZCcmFuY2g+IHByZWZCcmFuY2goZG9fR2V0U2Vy
dmljZShOU19QUkVGU0VSVklDRV9DT05UUkFDVElEKSk7Ci0gIGlmIChwcmVmQnJhbmNoKSB7Ci0g
ICAgUFJCb29sIHRlbXA7Ci0gICAgbnNyZXN1bHQgcnY7Ci0gICAgcnYgPSBwcmVmQnJhbmNoLT5H
ZXRCb29sUHJlZigidmlld19zb3VyY2Uuc3ludGF4X2hpZ2hsaWdodCIsICZ0ZW1wKTsKLSAgICBt
U3ludGF4SGlnaGxpZ2h0ID0gTlNfU1VDQ0VFREVEKHJ2KSA/IHRlbXAgOiBQUl9UUlVFOwotCi0g
ICAgcnYgPSBwcmVmQnJhbmNoLT5HZXRCb29sUHJlZigidmlld19zb3VyY2Uud3JhcF9sb25nX2xp
bmVzIiwgJnRlbXApOwotICAgIG1XcmFwTG9uZ0xpbmVzID0gTlNfU1VDQ0VFREVEKHJ2KSA/IHRl
bXAgOiBQUl9GQUxTRTsKLQotICAgIHJ2ID0gcHJlZkJyYW5jaC0+R2V0SW50UHJlZigidmlld19z
b3VyY2UudGFiX3NpemUiLCAmdGVtcCk7Ci0gICAgbVRhYlNpemUgPSBOU19TVUNDRUVERUQocnYp
ID8gdGVtcCA6IC0xOwotICB9Ci0KLSAgbVNpbmsgPSAwOwotICBtTGluZU51bWJlciA9IDE7Ci0g
IG1Ub2tlbml6ZXIgPSAwOwotICBtRG9jVHlwZT1lSFRNTF9RdWlya3M7Ci0gIG1IYXNPcGVuUm9v
dD1QUl9GQUxTRTsKLSAgbUhhc09wZW5Cb2R5PVBSX0ZBTFNFOwotCi0gIG1Ub2tlbkNvdW50PTA7
Ci0KLSNpZmRlZiBEVU1QX1RPX0ZJTEUKLSAgZ0R1bXBGaWxlID0gZm9wZW4oZ0R1bXBGaWxlTmFt
ZSwidyIpOwotI2VuZGlmIC8vIERVTVBfVE9fRklMRQotCi19Ci0KLQotCi0vKioKLSAqICBEZWZh
dWx0IGRlc3RydWN0b3IKLSAqCi0gKiAgQHVwZGF0ZSAgZ2VzcyA0LzkvOTgKLSAqICBAcGFyYW0K
LSAqICBAcmV0dXJuCi0gKi8KLUNWaWV3U291cmNlSFRNTDo6fkNWaWV3U291cmNlSFRNTCgpewot
ICBtU2luaz0wOyAvL2p1c3QgdG8gcHJvdmUgd2UgZGVzdHJ1Y3RlZC4uLgotfQotCi0vKioKLSAg
KiBUaGUgcGFyc2VyIHVzZXMgYSBjb2RlIHNhbmR3aWNoIHRvIHdyYXAgdGhlIHBhcnNpbmcgcHJv
Y2Vzcy4gQmVmb3JlCi0gICogdGhlIHByb2Nlc3MgYmVnaW5zLCBXaWxsQnVpbGRNb2RlbCgpIGlz
IGNhbGxlZC4gQWZ0ZXJ3YXJkcyB0aGUgcGFyc2VyCi0gICogY2FsbHMgRGlkQnVpbGRNb2RlbCgp
LgotICAqIEB1cGRhdGUgcmlja2cgMDMuMjAuMjAwMAotICAqIEBwYXJhbSAgYVBhcnNlckNvbnRl
eHQKLSAgKiBAcGFyYW0gIGFTaW5rCi0gICogQHJldHVybiBlcnJvciBjb2RlIChhbG1vc3QgYWx3
YXlzIDApCi0gICovCi1OU19JTUVUSE9ESU1QCi1DVmlld1NvdXJjZUhUTUw6OldpbGxCdWlsZE1v
ZGVsKGNvbnN0IENQYXJzZXJDb250ZXh0JiBhUGFyc2VyQ29udGV4dCwKLSAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgbnNJVG9rZW5pemVyKiBhVG9rZW5pemVyLAotICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBuc0lDb250ZW50U2luayogYVNpbmspCi17Ci0gIG5zcmVzdWx0
IHJlc3VsdD1OU19PSzsKLQotI2lmZGVmIFJBUFRPUl9QRVJGX01FVFJJQ1MKLSAgdnNUaW1lci5S
ZXNldCgpOwotICBOU19TVEFSVF9TVE9QV0FUQ0godnNUaW1lcik7Ci0jZW5kaWYKLQotICBtU2lu
az0obnNJSFRNTENvbnRlbnRTaW5rKilhU2luazsKLQotICBpZigoIWFQYXJzZXJDb250ZXh0Lm1Q
cmV2Q29udGV4dCkgJiYgKG1TaW5rKSkgewotCi0gICAgbnNBU3RyaW5nICYgY29udGV4dEZpbGVu
YW1lID0gYVBhcnNlckNvbnRleHQubVNjYW5uZXItPkdldEZpbGVuYW1lKCk7Ci0gICAgbUZpbGVu
YW1lID0gU3Vic3RyaW5nKGNvbnRleHRGaWxlbmFtZSwKLSAgICAgICAgICAgICAgICAgICAgICAg
ICAgMTIsIC8vIFRoZSBsZW5ndGggb2YgInZpZXctc291cmNlOiIKLSAgICAgICAgICAgICAgICAg
ICAgICAgICAgY29udGV4dEZpbGVuYW1lLkxlbmd0aCgpIC0gMTIpOwotCi0gICAgbURvY1R5cGU9
YVBhcnNlckNvbnRleHQubURvY1R5cGU7Ci0gICAgbU1pbWVUeXBlPWFQYXJzZXJDb250ZXh0Lm1N
aW1lVHlwZTsKLSAgICBtRFRETW9kZT1hUGFyc2VyQ29udGV4dC5tRFRETW9kZTsKLSAgICBtUGFy
c2VyQ29tbWFuZD1hUGFyc2VyQ29udGV4dC5tUGFyc2VyQ29tbWFuZDsKLSAgICBtVG9rZW5pemVy
ID0gYVRva2VuaXplcjsKLQotI2lmZGVmIERVTVBfVE9fRklMRQotICAgIGlmIChnRHVtcEZpbGUp
IHsKLQotICAgICAgZnByaW50ZihnRHVtcEZpbGUsICI8aHRtbD5cbiIpOwotICAgICAgZnByaW50
ZihnRHVtcEZpbGUsICI8aGVhZD5cbiIpOwotICAgICAgZnByaW50ZihnRHVtcEZpbGUsICI8dGl0
bGU+Iik7Ci0gICAgICBmcHJpbnRmKGdEdW1wRmlsZSwgIlNvdXJjZSBvZjogIik7Ci0gICAgICBm
cHV0cyhOU19Db252ZXJ0VVRGMTZ0b1VURjgobUZpbGVuYW1lKS5nZXQoKSwgZ0R1bXBGaWxlKTsK
LSAgICAgIGZwcmludGYoZ0R1bXBGaWxlLCAiPC90aXRsZT5cbiIpOwotICAgICAgZnByaW50Zihn
RHVtcEZpbGUsICI8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgdHlwZT1cInRleHQvY3NzXCIgaHJl
Zj1cInJlc291cmNlOi8vZ3JlLXJlc291cmNlcy92aWV3c291cmNlLmNzc1wiPlxuIik7Ci0gICAg
ICBmcHJpbnRmKGdEdW1wRmlsZSwgIjxtZXRhIGh0dHAtZXF1aXY9XCJDb250ZW50LVR5cGVcIiBj
b250ZW50PVwidGV4dC9odG1sOyBjaGFyc2V0PVVURi04XCI+XG4iKTsKLSAgICAgIGZwcmludGYo
Z0R1bXBGaWxlLCAiPC9oZWFkPlxuIik7Ci0gICAgICBmcHJpbnRmKGdEdW1wRmlsZSwgIjxib2R5
IGlkPVwidmlld3NvdXJjZVwiPlxuIik7Ci0gICAgICBmcHJpbnRmKGdEdW1wRmlsZSwgIjxwcmUg
aWQ9XCJsaW5lMVwiPlxuIik7Ci0gICAgfQotI2VuZGlmIC8vRFVNUF9UT19GSUxFCi0gIH0KLQot
Ci0gIGlmKGVWaWV3U291cmNlIT1hUGFyc2VyQ29udGV4dC5tUGFyc2VyQ29tbWFuZCkKLSAgICBt
RG9jVHlwZT1lUGxhaW5UZXh0OwotICBlbHNlIG1Eb2NUeXBlPWFQYXJzZXJDb250ZXh0Lm1Eb2NU
eXBlOwotCi0gIG1MaW5lTnVtYmVyID0gMTsKLQotICByZXR1cm4gcmVzdWx0OwotfQotCi0vKioK
LSAgKiBUaGUgcGFyc2VyIHVzZXMgYSBjb2RlIHNhbmR3aWNoIHRvIHdyYXAgdGhlIHBhcnNpbmcg
cHJvY2Vzcy4gQmVmb3JlCi0gICogdGhlIHByb2Nlc3MgYmVnaW5zLCBXaWxsQnVpbGRNb2RlbCgp
IGlzIGNhbGxlZC4gQWZ0ZXJ3YXJkcyB0aGUgcGFyc2VyCi0gICogY2FsbHMgRGlkQnVpbGRNb2Rl
bCgpLgotICAqIEB1cGRhdGUgZ2VzczUvMTgvOTgKLSAgKiBAcGFyYW0gIGFGaWxlbmFtZSBpcyB0
aGUgbmFtZSBvZiB0aGUgZmlsZSBiZWluZyBwYXJzZWQuCi0gICogQHJldHVybiBlcnJvciBjb2Rl
IChhbG1vc3QgYWx3YXlzIDApCi0gICovCi1OU19JTUVUSE9ESU1QIENWaWV3U291cmNlSFRNTDo6
QnVpbGRNb2RlbChuc0lUb2tlbml6ZXIqIGFUb2tlbml6ZXIsCi0gICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBQUkJvb2wgYUNhbkludGVycnVwdCwKLSAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBSQm9vbCBhQ291bnRMaW5lcywKLSAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5zQ1N0cmluZyogYUNo
YXJzZXRQdHIpCi17Ci0gIG5zcmVzdWx0IHJlc3VsdD1OU19PSzsKLQotICBpZihhVG9rZW5pemVy
KSB7Ci0KLSAgICBuc0lUb2tlbml6ZXIqICBvbGRUb2tlbml6ZXI9bVRva2VuaXplcjsKLSAgICBt
VG9rZW5pemVyPWFUb2tlbml6ZXI7Ci0gICAgbnNUb2tlbkFsbG9jYXRvciogdGhlQWxsb2NhdG9y
PW1Ub2tlbml6ZXItPkdldFRva2VuQWxsb2NhdG9yKCk7Ci0KLSAgICBpZighbUhhc09wZW5Sb290
KSB7Ci0gICAgICAvLyBGb3IgdGhlIHN0YWNrLWFsbG9jYXRlZCB0b2tlbnMgYmVsb3csIGl0J3Mg
c2FmZSB0byBwYXNzIGEgbnVsbAotICAgICAgLy8gdG9rZW4gYWxsb2NhdG9yLCBiZWNhdXNlIHRo
ZXJlIGFyZSBubyBhdHRyaWJ1dGVzIG9uIHRoZSB0b2tlbnMuCi0gICAgICBDU3RhcnRUb2tlbiBo
dG1sVG9rZW4oTlNfTElURVJBTF9TVFJJTkcoIkhUTUwiKSwgZUhUTUxUYWdfaHRtbCk7Ci0gICAg
ICBuc0NQYXJzZXJOb2RlIGh0bWxOb2RlKCZodG1sVG9rZW4sIDAvKnN0YWNrIHRva2VuKi8pOwot
ICAgICAgbVNpbmstPk9wZW5Db250YWluZXIoaHRtbE5vZGUpOwotCi0gICAgICBDU3RhcnRUb2tl
biBoZWFkVG9rZW4oTlNfTElURVJBTF9TVFJJTkcoIkhFQUQiKSwgZUhUTUxUYWdfaGVhZCk7Ci0g
ICAgICBuc0NQYXJzZXJOb2RlIGhlYWROb2RlKCZoZWFkVG9rZW4sIDAvKnN0YWNrIHRva2VuKi8p
OwotICAgICAgbVNpbmstPk9wZW5Db250YWluZXIoaGVhZE5vZGUpOwotCi0gICAgICBDU3RhcnRU
b2tlbiB0aXRsZVRva2VuKE5TX0xJVEVSQUxfU1RSSU5HKCJUSVRMRSIpLCBlSFRNTFRhZ190aXRs
ZSk7Ci0gICAgICBuc0NQYXJzZXJOb2RlIHRpdGxlTm9kZSgmdGl0bGVUb2tlbiwgMC8qc3RhY2sg
dG9rZW4qLyk7Ci0gICAgICBtU2luay0+T3BlbkNvbnRhaW5lcih0aXRsZU5vZGUpOwotCi0gICAg
ICAvLyBOb3RlIHRoYXQgWFVMIHdpbGwgYXV0b21hdGljYWxseSBhZGQgdGhlIHByZWZpeCAiU291
cmNlIG9mOiAiCi0gICAgICBpZiAoU3RyaW5nQmVnaW5zV2l0aChtRmlsZW5hbWUsIE5TX0xJVEVS
QUxfU1RSSU5HKCJkYXRhOiIpKSAmJgotICAgICAgICAgIG1GaWxlbmFtZS5MZW5ndGgoKSA+IDUw
KSB7Ci0gICAgICAgIG5zQXV0b1N0cmluZyBkYXRhRmlsZW5hbWUoU3Vic3RyaW5nKG1GaWxlbmFt
ZSwgMCwgNTApKTsKLSAgICAgICAgZGF0YUZpbGVuYW1lLkFwcGVuZExpdGVyYWwoIi4uLiIpOwot
ICAgICAgICBDVGV4dFRva2VuIHRpdGxlVGV4dChkYXRhRmlsZW5hbWUpOwotICAgICAgICBuc0NQ
YXJzZXJOb2RlIHRpdGxlVGV4dE5vZGUoJnRpdGxlVGV4dCwgMC8qc3RhY2sgdG9rZW4qLyk7Ci0g
ICAgICAgIG1TaW5rLT5BZGRMZWFmKHRpdGxlVGV4dE5vZGUpOwotICAgICAgfSBlbHNlIHsKLSAg
ICAgICAgQ1RleHRUb2tlbiB0aXRsZVRleHQobUZpbGVuYW1lKTsKLSAgICAgICAgbnNDUGFyc2Vy
Tm9kZSB0aXRsZVRleHROb2RlKCZ0aXRsZVRleHQsIDAvKnN0YWNrIHRva2VuKi8pOwotICAgICAg
ICBtU2luay0+QWRkTGVhZih0aXRsZVRleHROb2RlKTsKLSAgICAgIH0KLQotICAgICAgbVNpbmst
PkNsb3NlQ29udGFpbmVyKGVIVE1MVGFnX3RpdGxlKTsKLQotICAgICAgaWYgKHRoZUFsbG9jYXRv
cikgewotICAgICAgICBDU3RhcnRUb2tlbiogdGhlVG9rZW49Ci0gICAgICAgICAgc3RhdGljX2Nh
c3Q8Q1N0YXJ0VG9rZW4qPgotICAgICAgICAgICAgICAgICAgICAgKHRoZUFsbG9jYXRvci0+Q3Jl
YXRlVG9rZW5PZlR5cGUoZVRva2VuX3N0YXJ0LAotICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZUhUTUxUYWdfbGluaywKLSAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5TX0xJVEVSQUxf
U1RSSU5HKCJMSU5LIikpKTsKLSAgICAgICAgaWYgKHRoZVRva2VuKSB7Ci0gICAgICAgICAgbnND
UGFyc2VyU3RhcnROb2RlIHRoZU5vZGUodGhlVG9rZW4sIHRoZUFsbG9jYXRvcik7Ci0KLSAgICAg
ICAgICBBZGRBdHRyVG9Ob2RlKHRoZU5vZGUsIHRoZUFsbG9jYXRvciwKLSAgICAgICAgICAgICAg
ICAgICAgICAgIE5TX0xJVEVSQUxfU1RSSU5HKCJyZWwiKSwKLSAgICAgICAgICAgICAgICAgICAg
ICAgIE5TX0xJVEVSQUxfU1RSSU5HKCJzdHlsZXNoZWV0IikpOwotCi0gICAgICAgICAgQWRkQXR0
clRvTm9kZSh0aGVOb2RlLCB0aGVBbGxvY2F0b3IsCi0gICAgICAgICAgICAgICAgICAgICAgICBO
U19MSVRFUkFMX1NUUklORygidHlwZSIpLAotICAgICAgICAgICAgICAgICAgICAgICAgTlNfTElU
RVJBTF9TVFJJTkcoInRleHQvY3NzIikpOwotCi0gICAgICAgICAgQWRkQXR0clRvTm9kZSh0aGVO
b2RlLCB0aGVBbGxvY2F0b3IsCi0gICAgICAgICAgICAgICAgICAgICAgICBOU19MSVRFUkFMX1NU
UklORygiaHJlZiIpLAotICAgICAgICAgICAgICAgICAgICAgICAgTlNfTElURVJBTF9TVFJJTkco
InJlc291cmNlOi8vZ3JlLXJlc291cmNlcy92aWV3c291cmNlLmNzcyIpKTsKLQotICAgICAgICAg
IG1TaW5rLT5BZGRMZWFmKHRoZU5vZGUpOwotICAgICAgICB9Ci0gICAgICAgIElGX0ZSRUUodGhl
VG9rZW4sIHRoZUFsbG9jYXRvcik7Ci0gICAgICB9Ci0KLSAgICAgIHJlc3VsdCA9IG1TaW5rLT5D
bG9zZUNvbnRhaW5lcihlSFRNTFRhZ19oZWFkKTsKLSAgICAgIGlmKE5TX1NVQ0NFRURFRChyZXN1
bHQpKSB7Ci0gICAgICAgIG1IYXNPcGVuUm9vdCA9IFBSX1RSVUU7Ci0gICAgICB9Ci0gICAgfQot
ICAgIGlmIChOU19TVUNDRUVERUQocmVzdWx0KSAmJiAhbUhhc09wZW5Cb2R5KSB7Ci0gICAgICBp
ZiAodGhlQWxsb2NhdG9yKSB7Ci0gICAgICAgIENTdGFydFRva2VuKiBib2R5VG9rZW49Ci0gICAg
ICAgICAgc3RhdGljX2Nhc3Q8Q1N0YXJ0VG9rZW4qPgotICAgICAgICAgICAgICAgICAgICAgKHRo
ZUFsbG9jYXRvci0+Q3JlYXRlVG9rZW5PZlR5cGUoZVRva2VuX3N0YXJ0LAotICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZUhUTUxUYWdfYm9k
eSwKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIE5TX0xJVEVSQUxfU1RSSU5HKCJCT0RZIikpKTsKLSAgICAgICAgaWYgKGJvZHlUb2tlbikg
ewotICAgICAgICAgIG5zQ1BhcnNlclN0YXJ0Tm9kZSBib2R5Tm9kZShib2R5VG9rZW4sIHRoZUFs
bG9jYXRvcik7Ci0KLSAgICAgICAgICBBZGRBdHRyVG9Ob2RlKGJvZHlOb2RlLCB0aGVBbGxvY2F0
b3IsCi0gICAgICAgICAgICAgICAgICAgICAgICBOU19MSVRFUkFMX1NUUklORygiaWQiKSwKLSAg
ICAgICAgICAgICAgICAgICAgICAgIE5TX0NvbnZlcnRBU0NJSXRvVVRGMTYoa0JvZHlJZCkpOwot
Ci0gICAgICAgICAgaWYgKG1XcmFwTG9uZ0xpbmVzKSB7Ci0gICAgICAgICAgICBBZGRBdHRyVG9O
b2RlKGJvZHlOb2RlLCB0aGVBbGxvY2F0b3IsCi0gICAgICAgICAgICAgICAgICAgICAgICAgIE5T
X0xJVEVSQUxfU1RSSU5HKCJjbGFzcyIpLAotICAgICAgICAgICAgICAgICAgICAgICAgICBOU19D
b252ZXJ0QVNDSUl0b1VURjE2KGtCb2R5Q2xhc3NXcmFwKSk7Ci0gICAgICAgICAgfQotICAgICAg
ICAgIGlmIChtVGFiU2l6ZSA+PSAwKSB7Ci0gICAgICAgICAgICBuc0F1dG9TdHJpbmcgc3R5bGVW
YWx1ZSA9IE5TX0NvbnZlcnRBU0NJSXRvVVRGMTYoa0JvZHlUYWJTaXplKTsKLSAgICAgICAgICAg
IHN0eWxlVmFsdWUuQXBwZW5kSW50KG1UYWJTaXplKTsKLSAgICAgICAgICAgIEFkZEF0dHJUb05v
ZGUoYm9keU5vZGUsIHRoZUFsbG9jYXRvciwKLSAgICAgICAgICAgICAgICAgICAgICAgICAgTlNf
TElURVJBTF9TVFJJTkcoInN0eWxlIiksCi0gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxl
VmFsdWUpOwotICAgICAgICAgIH0KLSAgICAgICAgICByZXN1bHQgPSBtU2luay0+T3BlbkNvbnRh
aW5lcihib2R5Tm9kZSk7Ci0gICAgICAgICAgaWYoTlNfU1VDQ0VFREVEKHJlc3VsdCkpIG1IYXNP
cGVuQm9keT1QUl9UUlVFOwotICAgICAgICB9Ci0gICAgICAgIElGX0ZSRUUoYm9keVRva2VuLCB0
aGVBbGxvY2F0b3IpOwotCi0gICAgICAgIGlmIChOU19TVUNDRUVERUQocmVzdWx0KSkgewotICAg
ICAgICAgIENTdGFydFRva2VuKiBwcmVUb2tlbiA9Ci0gICAgICAgICAgICBzdGF0aWNfY2FzdDxD
U3RhcnRUb2tlbio+Ci0gICAgICAgICAgICAgICAgICAgICAgICh0aGVBbGxvY2F0b3ItPkNyZWF0
ZVRva2VuT2ZUeXBlKGVUb2tlbl9zdGFydCwKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZUhUTUxUYWdfcHJlLAotICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOU19MSVRFUkFM
X1NUUklORygiUFJFIikpKTsKLSAgICAgICAgICBpZiAocHJlVG9rZW4pIHsKLSAgICAgICAgICAg
IG5zQ1BhcnNlclN0YXJ0Tm9kZSBwcmVOb2RlKHByZVRva2VuLCB0aGVBbGxvY2F0b3IpOwotICAg
ICAgICAgICAgQWRkQXR0clRvTm9kZShwcmVOb2RlLCB0aGVBbGxvY2F0b3IsCi0gICAgICAgICAg
ICAgICAgICAgICAgICAgIE5TX0xJVEVSQUxfU1RSSU5HKCJpZCIpLAotICAgICAgICAgICAgICAg
ICAgICAgICAgICBOU19MSVRFUkFMX1NUUklORygibGluZTEiKSk7Ci0gICAgICAgICAgICByZXN1
bHQgPSBtU2luay0+T3BlbkNvbnRhaW5lcihwcmVOb2RlKTsKLSAgICAgICAgICB9IGVsc2Ugewot
ICAgICAgICAgICAgcmVzdWx0ID0gTlNfRVJST1JfT1VUX09GX01FTU9SWTsKLSAgICAgICAgICB9
Ci0gICAgICAgICAgSUZfRlJFRShwcmVUb2tlbiwgdGhlQWxsb2NhdG9yKTsKLSAgICAgICAgfQot
ICAgICAgfQotICAgIH0KLQotICAgIE5TX0FTU0VSVElPTihhQ2hhcnNldFB0ciwgIkNWaWV3U291
cmNlSFRNTDo6QnVpbGRNb2RlbCBleHBlY3RzIGEgY2hhcnNldCEiKTsKLSAgICBtQ2hhcnNldCA9
ICphQ2hhcnNldFB0cjsKLQotICAgIE5TX0FTU0VSVElPTihhQ2FuSW50ZXJydXB0LCAiQ1ZpZXdT
b3VyY2VIVE1MIGNhbid0IHJ1biBzY3JpcHRzLCBzbyAiCi0gICAgICAgICAgICAgICAgICJkb2N1
bWVudC53cml0ZSBzaG91bGQgbm90IGZvcmJpZCBpbnRlcnJ1cHRpb25zLiBXaHkgaXMgIgotICAg
ICAgICAgICAgICAgICAidGhlIHBhcnNlciB0ZWxsaW5nIHVzIG5vdCB0byBpbnRlcnJ1cHQ/Iik7
Ci0KLSAgICB3aGlsZShOU19TVUNDRUVERUQocmVzdWx0KSl7Ci0gICAgICBDVG9rZW4qIHRoZVRv
a2VuPW1Ub2tlbml6ZXItPlBvcFRva2VuKCk7Ci0gICAgICBpZih0aGVUb2tlbikgewotICAgICAg
ICByZXN1bHQ9SGFuZGxlVG9rZW4odGhlVG9rZW4pOwotICAgICAgICBpZihOU19TVUNDRUVERUQo
cmVzdWx0KSkgewotICAgICAgICAgIElGX0ZSRUUodGhlVG9rZW4sIG1Ub2tlbml6ZXItPkdldFRv
a2VuQWxsb2NhdG9yKCkpOwotICAgICAgICAgIGlmIChtU2luay0+RGlkUHJvY2Vzc0FUb2tlbigp
ID09IE5TX0VSUk9SX0hUTUxQQVJTRVJfSU5URVJSVVBURUQpIHsKLSAgICAgICAgICAgIHJlc3Vs
dCA9IE5TX0VSUk9SX0hUTUxQQVJTRVJfSU5URVJSVVBURUQ7Ci0gICAgICAgICAgICBicmVhazsK
LSAgICAgICAgICB9Ci0gICAgICAgIH0gZWxzZSB7Ci0gICAgICAgICAgbVRva2VuaXplci0+UHVz
aFRva2VuRnJvbnQodGhlVG9rZW4pOwotICAgICAgICB9Ci0gICAgICB9Ci0gICAgICBlbHNlIGJy
ZWFrOwotICAgIH0vL3doaWxlCi0KLSAgICBtVG9rZW5pemVyPW9sZFRva2VuaXplcjsKLSAgfQot
ICBlbHNlIHJlc3VsdD1OU19FUlJPUl9IVE1MUEFSU0VSX0JBRFRPS0VOSVpFUjsKLSAgcmV0dXJu
IHJlc3VsdDsKLX0KLQotLyoqCi0gKiBDYWxsIHRoaXMgdG8gc3RhcnQgYSBuZXcgUFJFIGJsb2Nr
LiAgU2VlIGJ1ZyA4NjM1NSBmb3Igd2h5IHRoaXMKLSAqIG1ha2VzIHNvbWUgcGFnZXMgbXVjaCBm
YXN0ZXIuCi0gKi8KLXZvaWQgQ1ZpZXdTb3VyY2VIVE1MOjpTdGFydE5ld1ByZUJsb2NrKHZvaWQp
ewotICBDRW5kVG9rZW4gZW5kVG9rZW4oZUhUTUxUYWdfcHJlKTsKLSAgbnNDUGFyc2VyTm9kZSBl
bmROb2RlKCZlbmRUb2tlbiwgMC8qc3RhY2sgdG9rZW4qLyk7Ci0gIG1TaW5rLT5DbG9zZUNvbnRh
aW5lcihlSFRNTFRhZ19wcmUpOwotCi0gIG5zVG9rZW5BbGxvY2F0b3IqIHRoZUFsbG9jYXRvciA9
IG1Ub2tlbml6ZXItPkdldFRva2VuQWxsb2NhdG9yKCk7Ci0gIGlmICghdGhlQWxsb2NhdG9yKSB7
Ci0gICAgcmV0dXJuOwotICB9Ci0KLSAgQ1N0YXJ0VG9rZW4qIHRoZVRva2VuID0KLSAgICBzdGF0
aWNfY2FzdDxDU3RhcnRUb2tlbio+Ci0gICAgICAgICAgICAgICAodGhlQWxsb2NhdG9yLT5DcmVh
dGVUb2tlbk9mVHlwZShlVG9rZW5fc3RhcnQsCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBlSFRNTFRhZ19wcmUsCi0gICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOU19MSVRFUkFMX1NUUklORygiUFJFIikp
KTsKLSAgaWYgKCF0aGVUb2tlbikgewotICAgIHJldHVybjsKLSAgfQotCi0gIG5zQ1BhcnNlclN0
YXJ0Tm9kZSBzdGFydE5vZGUodGhlVG9rZW4sIHRoZUFsbG9jYXRvcik7Ci0gIEFkZEF0dHJUb05v
ZGUoc3RhcnROb2RlLCB0aGVBbGxvY2F0b3IsCi0gICAgICAgICAgICAgICAgTlNfTElURVJBTF9T
VFJJTkcoImlkIiksCi0gICAgICAgICAgICAgICAgTlNfQ29udmVydEFTQ0lJdG9VVEYxNihuc1By
aW50ZkNTdHJpbmcoImxpbmUlZCIsIG1MaW5lTnVtYmVyKSkpOwotICBtU2luay0+T3BlbkNvbnRh
aW5lcihzdGFydE5vZGUpOwotICBJRl9GUkVFKHRoZVRva2VuLCB0aGVBbGxvY2F0b3IpOwotCi0j
aWZkZWYgRFVNUF9UT19GSUxFCi0gIGlmIChnRHVtcEZpbGUpIHsKLSAgICBmcHJpbnRmKGdEdW1w
RmlsZSwgIjwvcHJlPlxuIik7Ci0gICAgZnByaW50ZihnRHVtcEZpbGUsICI8cHJlIGlkPVwibGlu
ZSVkXCI+XG4iLCBtTGluZU51bWJlcik7Ci0gIH0KLSNlbmRpZiAvLyBEVU1QX1RPX0ZJTEUKLQot
ICBtVG9rZW5Db3VudCA9IDA7Ci19Ci0KLXZvaWQgQ1ZpZXdTb3VyY2VIVE1MOjpBZGRBdHRyVG9O
b2RlKG5zQ1BhcnNlclN0YXJ0Tm9kZSYgYU5vZGUsCi0gICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBuc1Rva2VuQWxsb2NhdG9yKiBhQWxsb2NhdG9yLAotICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgY29uc3QgbnNBU3RyaW5nJiBhQXR0ck5hbWUsCi0gICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuc0FTdHJpbmcmIGFBdHRyVmFsdWUp
Ci17Ci0gIE5TX1BSRUNPTkRJVElPTihhQWxsb2NhdG9yLCAiTXVzdCBoYXZlIGEgdG9rZW4gYWxs
b2NhdG9yISIpOwotCi0gIENBdHRyaWJ1dGVUb2tlbiogdGhlQXR0ciA9Ci0gICAgKENBdHRyaWJ1
dGVUb2tlbiopIGFBbGxvY2F0b3ItPkNyZWF0ZVRva2VuT2ZUeXBlKGVUb2tlbl9hdHRyaWJ1dGUs
Ci0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVI
VE1MVGFnX3Vua25vd24sCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIGFBdHRyVmFsdWUpOwotICBpZiAoIXRoZUF0dHIpIHsKLSAgICBOU19FUlJP
UigiRmFpbGVkIHRvIGFsbG9jYXRlIGF0dHJpYnV0ZSB0b2tlbiIpOwotICAgIHJldHVybjsKLSAg
fQotCi0gIHRoZUF0dHItPlNldEtleShhQXR0ck5hbWUpOwotICBhTm9kZS5BZGRBdHRyaWJ1dGUo
dGhlQXR0cik7Ci0KLSAgLy8gUGFyc2VyIG5vZGVzIGFzc3VtZSB0aGF0IHRoZXkgYXJlIGJlaW5n
IGhhbmRlZCBhIHJlZiB3aGVuIEFkZEF0dHJpYnV0ZSBpcwotICAvLyBjYWxsZWQsIHVubGlrZSBJ
bml0KCkgYW5kIGNvbnN0cnVjdGlvbiwgd2hlbiB0aGV5IGFjdHVhbGx5IGFkZHJlZiB0aGUKLSAg
Ly8gaW5jb21pbmcgdG9rZW4uICBEbyBOT1QgcmVsZWFzZSBoZXJlIHVubGVzcyB0aGlzIHNldHVw
IGNoYW5nZXMuCi19Ci0KLS8qKgotICoKLSAqIEB1cGRhdGUgIGdlc3M1LzE4Lzk4Ci0gKiBAcGFy
YW0KLSAqIEByZXR1cm4KLSAqLwotTlNfSU1FVEhPRElNUCBDVmlld1NvdXJjZUhUTUw6OkRpZEJ1
aWxkTW9kZWwobnNyZXN1bHQgYW5FcnJvckNvZGUpCi17Ci0gIG5zcmVzdWx0IHJlc3VsdD0gTlNf
T0s7Ci0KLSAgLy9BREQgQ09ERSBIRVJFIFRPIENMT1NFIE9QRU4gQ09OVEFJTkVSUy4uLgotCi0g
IGlmIChtU2luaykgewotICAgICAgLy9ub3cgbGV0J3MgY2xvc2UgYXV0b21hdGljYWxseSBhdXRv
LW9wZW5lZCBjb250YWluZXJzLi4uCi0KLSNpZmRlZiBEVU1QX1RPX0ZJTEUKLSAgICBpZihnRHVt
cEZpbGUpIHsKLSAgICAgIGZwcmludGYoZ0R1bXBGaWxlLCAiPC9wcmU+XG4iKTsKLSAgICAgIGZw
cmludGYoZ0R1bXBGaWxlLCAiPC9ib2R5PlxuIik7Ci0gICAgICBmcHJpbnRmKGdEdW1wRmlsZSwg
IjwvaHRtbD5cbiIpOwotICAgICAgZmNsb3NlKGdEdW1wRmlsZSk7Ci0gICAgfQotI2VuZGlmIC8v
IERVTVBfVE9fRklMRQotCi0gICAgaWYoZVBsYWluVGV4dCE9bURvY1R5cGUpIHsKLSAgICAgIG1T
aW5rLT5DbG9zZUNvbnRhaW5lcihlSFRNTFRhZ19wcmUpOwotICAgICAgbVNpbmstPkNsb3NlQ29u
dGFpbmVyKGVIVE1MVGFnX2JvZHkpOwotICAgICAgbVNpbmstPkNsb3NlQ29udGFpbmVyKGVIVE1M
VGFnX2h0bWwpOwotICAgIH0KLSAgfQotCi0jaWZkZWYgUkFQVE9SX1BFUkZfTUVUUklDUwotICBO
U19TVE9QX1NUT1BXQVRDSCh2c1RpbWVyKTsKLSAgcHJpbnRmKCJ2aWV3c291cmNlIHRpbWVyOiAi
KTsKLSAgdnNUaW1lci5QcmludCgpOwotICBwcmludGYoIlxuIik7Ci0jZW5kaWYKLQotICByZXR1
cm4gcmVzdWx0OwotfQotCi0vKioKLSAqIFVzZSB0aGlzIGlkIHlvdSB3YW50IHRvIHN0b3AgdGhl
IGJ1aWxkaW5nIGNvbnRlbnQgbW9kZWwKLSAqIC0tLS0tLS0tLS0tLS0tWyBTZXRzIERURCB0byBT
VE9QIG1vZGUgXS0tLS0tLS0tLS0tLS0tLS0KLSAqIEl0J3MgcmVjb21tZW5kZWQgdG8gdXNlIHRo
aXMgbWV0aG9kIGluIGFjY29yZGFuY2Ugd2l0aAotICogdGhlIHBhcnNlcidzIHRlcm1pbmF0ZSgp
IG1ldGhvZC4KLSAqCi0gKiBAdXBkYXRlICBoYXJpc2hkIDA3LzIyLzk5Ci0gKiBAcGFyYW0KLSAq
IEByZXR1cm4KLSAqLwotTlNfSU1FVEhPRElNUF8odm9pZCkKLUNWaWV3U291cmNlSFRNTDo6VGVy
bWluYXRlKCkgewotfQotCi1OU19JTUVUSE9ESU1QXyhQUkludDMyKQotQ1ZpZXdTb3VyY2VIVE1M
OjpHZXRUeXBlKCkgewotICByZXR1cm4gTlNfSVBBUlNFUl9GTEFHX0hUTUw7Ci19Ci0KLU5TX0lN
RVRIT0RJTVBfKG5zRFRETW9kZSkKLUNWaWV3U291cmNlSFRNTDo6R2V0TW9kZSgpIGNvbnN0Ci17
Ci0gIC8vIFF1aXJrcyBtb2RlIG5lZWRuJ3QgYWZmZWN0IGhvdyB0aGUgc291cmNlIGlzIHZpZXdl
ZCwgc28gcGFyc2UgdGhlIHNvdXJjZQotICAvLyB2aWV3IGluIGZ1bGwgc3RhbmRhcmRzIG1vZGUg
bm8gbWF0dGVyIHdoYXQ6Ci0gIHJldHVybiBlRFRETW9kZV9mdWxsX3N0YW5kYXJkczsKLX0KLQot
LyoqCi0gKiBDYWxsZWQgYnkgdGhlIHBhcnNlciB0byBlbmFibGUvZGlzYWJsZSBkdGQgdmVyaWZp
Y2F0aW9uIG9mIHRoZQotICogaW50ZXJuYWwgY29udGV4dCBzdGFjay4KLSAqIEB1cGRhdGUgIGdl
c3MgNy8yMy85OAotICogQHBhcmFtCi0gKiBAcmV0dXJuCi0gKi8KLXZvaWQgQ1ZpZXdTb3VyY2VI
VE1MOjpTZXRWZXJpZmljYXRpb24oUFJCb29sIGFFbmFibGVkKQotewotfQotCi0vKioKLSAqICBU
aGlzIG1ldGhvZCBpcyBjYWxsZWQgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgb3Igbm90IGEgdGFnCi0g
KiAgb2Ygb25lIHR5cGUgY2FuIGNvbnRhaW4gYSB0YWcgb2YgYW5vdGhlciB0eXBlLgotICoKLSAq
ICBAdXBkYXRlICBnZXNzIDMvMjUvOTgKLSAqICBAcGFyYW0gICBhUGFyZW50IC0tIGludCB0YWcg
b2YgcGFyZW50IGNvbnRhaW5lcgotICogIEBwYXJhbSAgIGFDaGlsZCAtLSBpbnQgdGFnIG9mIGNo
aWxkIGNvbnRhaW5lcgotICogIEByZXR1cm4gIFBSX1RSVUUgaWYgcGFyZW50IGNhbiBjb250YWlu
IGNoaWxkCi0gKi8KLU5TX0lNRVRIT0RJTVBfKFBSQm9vbCkKLUNWaWV3U291cmNlSFRNTDo6Q2Fu
Q29udGFpbihQUkludDMyIGFQYXJlbnQsIFBSSW50MzIgYUNoaWxkKSBjb25zdAotewotICBQUkJv
b2wgcmVzdWx0PVBSX1RSVUU7Ci0gIHJldHVybiByZXN1bHQ7Ci19Ci0KLS8qKgotICogIFRoaXMg
bWV0aG9kIGdldHMgY2FsbGVkIHRvIGRldGVybWluZSB3aGV0aGVyIGEgZ2l2ZW4KLSAqICB0YWcg
aXMgaXRzZWxmIGEgY29udGFpbmVyCi0gKiAgCi0gKiAgQHVwZGF0ZSAgZ2VzcyAzLzI1Lzk4Ci0g
KiAgQHBhcmFtICAgYVRhZyAtLSB0YWcgdG8gdGVzdCBmb3IgY29udGFpbmVyc2hpcAotICogIEBy
ZXR1cm4gIFBSX1RSVUUgaWYgZ2l2ZW4gdGFnIGNhbiBjb250YWluIG90aGVyIHRhZ3MKLSAqLwot
TlNfSU1FVEhPRElNUF8oUFJCb29sKQotQ1ZpZXdTb3VyY2VIVE1MOjpJc0NvbnRhaW5lcihQUklu
dDMyIGFUYWcpIGNvbnN0Ci17Ci0gIFBSQm9vbCByZXN1bHQ9UFJfVFJVRTsKLSAgcmV0dXJuIHJl
c3VsdDsKLX0KLQotLyoqCi0gKiAgVGhpcyBtZXRob2QgZ2V0cyBjYWxsZWQgd2hlbiBhIHRhZyBu
ZWVkcyB0byB3cml0ZSBpdCdzIGF0dHJpYnV0ZXMKLSAqCi0gKiAgQHVwZGF0ZSAgZ2VzcyAzLzI1
Lzk4Ci0gKiAgQHBhcmFtCi0gKiAgQHJldHVybiAgcmVzdWx0IHN0YXR1cwotICovCi1uc3Jlc3Vs
dCBDVmlld1NvdXJjZUhUTUw6OldyaXRlQXR0cmlidXRlcyhjb25zdCBuc0FTdHJpbmcmIHRhZ05h
bWUsIAotICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnNUb2tlbkFs
bG9jYXRvciogYWxsb2NhdG9yLCAKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIFBSSW50MzIgYXR0ckNvdW50LCBQUkJvb2wgYU93bmVySW5FcnJvcikgewotICBuc3Jl
c3VsdCByZXN1bHQ9TlNfT0s7Ci0KLSAgaWYoYXR0ckNvdW50KXsgLy9nbyBjb2xsZWN0IHRoZSBh
dHRyaWJ1dGVzLi4uCi0gICAgaW50IGF0dHIgPSAwOwotICAgIGZvcihhdHRyID0gMDsgYXR0ciA8
IGF0dHJDb3VudDsgKythdHRyKXsKLSAgICAgIENUb2tlbiogdGhlVG9rZW4gPSBtVG9rZW5pemVy
LT5QZWVrVG9rZW4oKTsKLSAgICAgIGlmKHRoZVRva2VuKSAgewotICAgICAgICBlSFRNTFRva2Vu
VHlwZXMgdGhlVHlwZSA9IGVIVE1MVG9rZW5UeXBlcyh0aGVUb2tlbi0+R2V0VG9rZW5UeXBlKCkp
OwotICAgICAgICBpZihlVG9rZW5fYXR0cmlidXRlID09IHRoZVR5cGUpewotICAgICAgICAgIG1U
b2tlbml6ZXItPlBvcFRva2VuKCk7IC8vcG9wIGl0IGZvciByZWFsLi4uCi0gICAgICAgICAgbVRv
a2VuTm9kZS5BZGRBdHRyaWJ1dGUodGhlVG9rZW4pOyAgLy9hbmQgYWRkIGl0IHRvIHRoZSBub2Rl
LgotCi0gICAgICAgICAgQ0F0dHJpYnV0ZVRva2VuKiB0aGVBdHRyVG9rZW4gPSAoQ0F0dHJpYnV0
ZVRva2VuKil0aGVUb2tlbjsKLSAgICAgICAgICBjb25zdCBuc1N1YnN0cmluZyYgdGhlS2V5ID0g
dGhlQXR0clRva2VuLT5HZXRLZXkoKTsKLQotICAgICAgICAgIC8vIFRoZSBhdHRyaWJ1dGUgaXMg
b25seSBpbiBlcnJvciBpZiBpdHMgb3duZXIgaXMgTk9UIGluIGVycm9yLgotICAgICAgICAgIGNv
bnN0IFBSQm9vbCBhdHRyaWJ1dGVJbkVycm9yID0KLSAgICAgICAgICAgICFhT3duZXJJbkVycm9y
ICYmIHRoZUF0dHJUb2tlbi0+SXNJbkVycm9yKCk7Ci0KLSAgICAgICAgICByZXN1bHQgPSBXcml0
ZVRhZyhrQXR0cmlidXRlTmFtZSx0aGVLZXksMCxhdHRyaWJ1dGVJbkVycm9yKTsKLSAgICAgICAg
ICBjb25zdCBuc1N1YnN0cmluZyYgdGhlVmFsdWUgPSB0aGVBdHRyVG9rZW4tPkdldFZhbHVlKCk7
Ci0KLSAgICAgICAgICBpZighdGhlVmFsdWUuSXNFbXB0eSgpIHx8IHRoZUF0dHJUb2tlbi0+bUhh
c0VxdWFsV2l0aG91dFZhbHVlKXsKLSAgICAgICAgICAgIGlmIChJc1VybEF0dHJpYnV0ZSh0YWdO
YW1lLCB0aGVLZXksIHRoZVZhbHVlKSkgewotICAgICAgICAgICAgICBXcml0ZUhyZWZBdHRyaWJ1
dGUoYWxsb2NhdG9yLCB0aGVWYWx1ZSk7Ci0gICAgICAgICAgICB9IGVsc2UgewotICAgICAgICAg
ICAgICBXcml0ZVRhZyhrQXR0cmlidXRlVmFsdWUsdGhlVmFsdWUsMCxhdHRyaWJ1dGVJbkVycm9y
KTsKLSAgICAgICAgICAgIH0KLSAgICAgICAgICB9Ci0gICAgICAgIH0KLSAgICAgIH0KLSAgICAg
IGVsc2UgcmV0dXJuIGtFT0Y7Ci0gICAgfQotICB9Ci0KLSAgcmV0dXJuIHJlc3VsdDsKLX0KLQot
LyoqCi0gKiAgVGhpcyBtZXRob2QgZ2V0cyBjYWxsZWQgd2hlbiBhIHRhZyBuZWVkcyB0byBiZSBz
ZW50IG91dAotICoKLSAqICBAdXBkYXRlICBnZXNzIDMvMjUvOTgKLSAqICBAcGFyYW0KLSAqICBA
cmV0dXJuICByZXN1bHQgc3RhdHVzCi0gKi8KLW5zcmVzdWx0IENWaWV3U291cmNlSFRNTDo6V3Jp
dGVUYWcoUFJJbnQzMiBhVGFnVHlwZSxjb25zdCBuc1N1YnN0cmluZyAmIGFUZXh0LFBSSW50MzIg
YXR0ckNvdW50LFBSQm9vbCBhVGFnSW5FcnJvcikgewotICBuc3Jlc3VsdCByZXN1bHQ9TlNfT0s7
Ci0KLSAgLy8gYWRqdXN0IGxpbmUgbnVtYmVyIHRvIHdoYXQgaXQgd2lsbCBiZSBhZnRlciB3ZSBm
aW5pc2ggd3JpdGluZyB0aGlzIHRhZwotICAvLyBYWFhieiBsaWZlIGhlcmUgc3Vja3MuICBXZSBj
YW4ndCB1c2UgdGhlIEdldE5ld2xpbmVDb3VudCBvbiB0aGUgdG9rZW4sCi0gIC8vIGJlY2F1c2Ug
VGV4dCB0b2tlbnMgaW4gPHN0eWxlPiwgPHNjcmlwdD4sIGV0YyBsaWUgdGhyb3VnaCB0aGVpciB0
ZWV0aC4KLSAgLy8gT24gdGhlIG90aGVyIGhhbmQsIHRoZSBwYXJzZXIgbWVzc2VzIHVwIG5ld2xp
bmUgY291bnRpbmcgaW4gc29tZSB0b2tlbgotICAvLyB0eXBlcyAoYnVnIDEzNzMxNSkuICBTbyBv
dXIgbGluZSBudW1iZXJzIHdpbGwgZGlzYWdyZWUgd2l0aCB0aGUgcGFyc2VyJ3MKLSAgLy8gaW4g
c29tZSBjYXNlcy4uLgotICAvLyBYWFhiZW5qYW1uIFNob3VsZG4ndCB3ZSBiZSBwYXlpbmcgYXR0
ZW50aW9uIHRvIHRoZSBhQ291bnRMaW5lcyBCdWlsZE1vZGVsCi0gIC8vIHBhcmFtZXRlciBoZXJl
PwotICBtTGluZU51bWJlciArPSBhVGV4dC5Db3VudENoYXIoUFJVbmljaGFyKCdcbicpKTsKLQot
ICBuc1Rva2VuQWxsb2NhdG9yKiB0aGVBbGxvY2F0b3I9bVRva2VuaXplci0+R2V0VG9rZW5BbGxv
Y2F0b3IoKTsKLSAgTlNfQVNTRVJUSU9OKDAhPXRoZUFsbG9jYXRvciwiRXJyb3I6IG5vIGFsbG9j
YXRvciIpOwotICBpZigwPT10aGVBbGxvY2F0b3IpCi0gICAgcmV0dXJuIE5TX0VSUk9SX0ZBSUxV
UkU7Ci0KLSAgLy8gSGlnaGxpZ2h0IGFsbCBwYXJ0cyBvZiBhbGwgZXJyb25lb3VzIHRhZ3MuCi0g
IGlmIChtU3ludGF4SGlnaGxpZ2h0ICYmIGFUYWdJbkVycm9yKSB7Ci0gICAgQ1N0YXJ0VG9rZW4q
IHRoZVRhZ1Rva2VuPQotICAgICAgc3RhdGljX2Nhc3Q8Q1N0YXJ0VG9rZW4qPgotICAgICAgICAg
ICAgICAgICAodGhlQWxsb2NhdG9yLT5DcmVhdGVUb2tlbk9mVHlwZShlVG9rZW5fc3RhcnQsCi0g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVIVE1M
VGFnX3NwYW4sCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIE5TX0xJVEVSQUxfU1RSSU5HKCJTUEFOIikpKTsKLSAgICBOU19FTlNVUkVfVFJVRSh0
aGVUYWdUb2tlbiwgTlNfRVJST1JfT1VUX09GX01FTU9SWSk7Ci0gICAgbUVycm9yTm9kZS5Jbml0
KHRoZVRhZ1Rva2VuLCB0aGVBbGxvY2F0b3IpOwotICAgIEFkZEF0dHJUb05vZGUobUVycm9yTm9k
ZSwgdGhlQWxsb2NhdG9yLAotICAgICAgICAgICAgICAgICAgTlNfTElURVJBTF9TVFJJTkcoImNs
YXNzIiksCi0gICAgICAgICAgICAgICAgICBOU19MSVRFUkFMX1NUUklORygiZXJyb3IiKSk7Ci0g
ICAgbVNpbmstPk9wZW5Db250YWluZXIobUVycm9yTm9kZSk7Ci0gICAgSUZfRlJFRSh0aGVUYWdU
b2tlbiwgdGhlQWxsb2NhdG9yKTsKLSNpZmRlZiBEVU1QX1RPX0ZJTEUKLSAgICBpZiAoZ0R1bXBG
aWxlKSB7Ci0gICAgICBmcHJpbnRmKGdEdW1wRmlsZSwgIjxzcGFuIGNsYXNzPVwiZXJyb3JcIj4i
KTsKLSAgICB9Ci0jZW5kaWYKLSAgfQotCi0gIGlmIChrQmVmb3JlVGV4dFthVGFnVHlwZV1bMF0g
IT0gMCkgewotICAgIE5TX0NvbnZlcnRBU0NJSXRvVVRGMTYgYmVmb3JlVGV4dChrQmVmb3JlVGV4
dFthVGFnVHlwZV0pOwotICAgIG1JVGV4dFRva2VuLlNldEluZGlyZWN0U3RyaW5nKGJlZm9yZVRl
eHQpOwotICAgIG5zQ1BhcnNlck5vZGUgdGhlTm9kZSgmbUlUZXh0VG9rZW4sIDAvKnN0YWNrIHRv
a2VuKi8pOwotICAgIG1TaW5rLT5BZGRMZWFmKHRoZU5vZGUpOwotICB9Ci0jaWZkZWYgRFVNUF9U
T19GSUxFCi0gIGlmIChnRHVtcEZpbGUgJiYga0R1bXBGaWxlQmVmb3JlVGV4dFthVGFnVHlwZV1b
MF0pCi0gICAgZnByaW50ZihnRHVtcEZpbGUsIGtEdW1wRmlsZUJlZm9yZVRleHRbYVRhZ1R5cGVd
KTsKLSNlbmRpZiAvLyBEVU1QX1RPX0ZJTEUKLQotICBpZiAobVN5bnRheEhpZ2hsaWdodCAmJiBh
VGFnVHlwZSAhPSBrVGV4dCkgewotICAgIENTdGFydFRva2VuKiB0aGVUYWdUb2tlbj0KLSAgICAg
IHN0YXRpY19jYXN0PENTdGFydFRva2VuKj4KLSAgICAgICAgICAgICAgICAgKHRoZUFsbG9jYXRv
ci0+Q3JlYXRlVG9rZW5PZlR5cGUoZVRva2VuX3N0YXJ0LAotICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlSFRNTFRhZ19zcGFuLAotICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOU19MSVRFUkFMX1NU
UklORygiU1BBTiIpKSk7Ci0gICAgTlNfRU5TVVJFX1RSVUUodGhlVGFnVG9rZW4sIE5TX0VSUk9S
X09VVF9PRl9NRU1PUlkpOwotICAgIG1TdGFydE5vZGUuSW5pdCh0aGVUYWdUb2tlbiwgdGhlQWxs
b2NhdG9yKTsKLSAgICBBZGRBdHRyVG9Ob2RlKG1TdGFydE5vZGUsIHRoZUFsbG9jYXRvciwKLSAg
ICAgICAgICAgICAgICAgIE5TX0xJVEVSQUxfU1RSSU5HKCJjbGFzcyIpLAotICAgICAgICAgICAg
ICAgICAgTlNfQ29udmVydEFTQ0lJdG9VVEYxNihrRWxlbWVudENsYXNzZXNbYVRhZ1R5cGVdKSk7
Ci0gICAgbVNpbmstPk9wZW5Db250YWluZXIobVN0YXJ0Tm9kZSk7ICAvL2VtaXQgPHN0YXJ0dGFn
Pi4uLgotICAgIElGX0ZSRUUodGhlVGFnVG9rZW4sIHRoZUFsbG9jYXRvcik7Ci0jaWZkZWYgRFVN
UF9UT19GSUxFCi0gICAgaWYgKGdEdW1wRmlsZSkgewotICAgICAgZnByaW50ZihnRHVtcEZpbGUs
ICI8c3BhbiBjbGFzcz1cIiIpOwotICAgICAgZnByaW50ZihnRHVtcEZpbGUsIGtFbGVtZW50Q2xh
c3Nlc1thVGFnVHlwZV0pOwotICAgICAgZnByaW50ZihnRHVtcEZpbGUsICJcIj4iKTsKLSAgICB9
Ci0jZW5kaWYgLy8gRFVNUF9UT19GSUxFCi0gIH0KLQotICBtSVRleHRUb2tlbi5TZXRJbmRpcmVj
dFN0cmluZyhhVGV4dCk7ICAvL25vdyBlbWl0IHRoZSB0YWcgbmFtZS4uLgotCi0gIG5zQ1BhcnNl
ck5vZGUgdGhlTm9kZSgmbUlUZXh0VG9rZW4sIDAvKnN0YWNrIHRva2VuKi8pOwotICBtU2luay0+
QWRkTGVhZih0aGVOb2RlKTsKLSNpZmRlZiBEVU1QX1RPX0ZJTEUKLSAgaWYgKGdEdW1wRmlsZSkg
ewotICAgIGZwdXRzKE5TX0NvbnZlcnRVVEYxNnRvVVRGOChhVGV4dCkuZ2V0KCksIGdEdW1wRmls
ZSk7Ci0gIH0KLSNlbmRpZiAvLyBEVU1QX1RPX0ZJTEUKLQotICBpZiAobVN5bnRheEhpZ2hsaWdo
dCAmJiBhVGFnVHlwZSAhPSBrVGV4dCkgewotICAgIG1TdGFydE5vZGUuUmVsZWFzZUFsbCgpOwot
ICAgIG1TaW5rLT5DbG9zZUNvbnRhaW5lcihlSFRNTFRhZ19zcGFuKTsgIC8vZW1pdCA8L2VuZHRh
Zz4uLi4KLSNpZmRlZiBEVU1QX1RPX0ZJTEUKLSAgICBpZiAoZ0R1bXBGaWxlKQotICAgICAgZnBy
aW50ZihnRHVtcEZpbGUsICI8L3NwYW4+Iik7Ci0jZW5kaWYgLy9EVU1QX1RPX0ZJTEUKLSAgfQot
Ci0gIGlmKGF0dHJDb3VudCl7Ci0gICAgcmVzdWx0PVdyaXRlQXR0cmlidXRlcyhhVGV4dCwgdGhl
QWxsb2NhdG9yLCBhdHRyQ291bnQsIGFUYWdJbkVycm9yKTsKLSAgfQotCi0gIC8vIFRva2VucyBh
cmUgc2V0IGluIGVycm9yIGlmIHRoZWlyIGVuZGluZyA+IGlzIG5vdCB0aGVyZSwgc28gZG9uJ3Qg
b3V0cHV0Ci0gIC8vIHRoZSBhZnRlci10ZXh0Ci0gIGlmICghYVRhZ0luRXJyb3IgJiYga0FmdGVy
VGV4dFthVGFnVHlwZV1bMF0gIT0gMCkgewotICAgIE5TX0NvbnZlcnRBU0NJSXRvVVRGMTYgYWZ0
ZXJUZXh0KGtBZnRlclRleHRbYVRhZ1R5cGVdKTsKLSAgICBtSVRleHRUb2tlbi5TZXRJbmRpcmVj
dFN0cmluZyhhZnRlclRleHQpOwotICAgIG5zQ1BhcnNlck5vZGUgdGhlTm9kZSgmbUlUZXh0VG9r
ZW4sIDAvKnN0YWNrIHRva2VuKi8pOwotICAgIG1TaW5rLT5BZGRMZWFmKHRoZU5vZGUpOwotICB9
Ci0jaWZkZWYgRFVNUF9UT19GSUxFCi0gIGlmICghYVRhZ0luRXJyb3IgJiYgZ0R1bXBGaWxlICYm
IGtEdW1wRmlsZUFmdGVyVGV4dFthVGFnVHlwZV1bMF0pCi0gICAgZnByaW50ZihnRHVtcEZpbGUs
IGtEdW1wRmlsZUFmdGVyVGV4dFthVGFnVHlwZV0pOwotI2VuZGlmIC8vIERVTVBfVE9fRklMRQot
Ci0gIGlmIChtU3ludGF4SGlnaGxpZ2h0ICYmIGFUYWdJbkVycm9yKSB7Ci0gICAgbUVycm9yTm9k
ZS5SZWxlYXNlQWxsKCk7Ci0gICAgbVNpbmstPkNsb3NlQ29udGFpbmVyKGVIVE1MVGFnX3NwYW4p
OyAgLy9lbWl0IDwvZW5kdGFnPi4uLgotI2lmZGVmIERVTVBfVE9fRklMRQotICAgIGlmIChnRHVt
cEZpbGUpCi0gICAgICBmcHJpbnRmKGdEdW1wRmlsZSwgIjwvc3Bhbj4iKTsKLSNlbmRpZiAvL0RV
TVBfVE9fRklMRQotICB9Ci0KLSAgcmV0dXJuIHJlc3VsdDsKLX0KLQotLyoqCi0gKgotICogIEB1
cGRhdGUgIGdlc3MgMy8yNS85OAotICogIEBwYXJhbSAgIGFUb2tlbiAtLSB0b2tlbiBvYmplY3Qg
dG8gYmUgcHV0IGludG8gY29udGVudCBtb2RlbAotICogIEByZXR1cm4gIDAgaWYgYWxsIGlzIHdl
bGw7IG5vbi16ZXJvIGlzIGFuIGVycm9yCi0gKi8KLW5zcmVzdWx0Ci1DVmlld1NvdXJjZUhUTUw6
OkhhbmRsZVRva2VuKENUb2tlbiogYVRva2VuKQotewotICBuc3Jlc3VsdCAgICAgICAgcmVzdWx0
PU5TX09LOwotICBDSFRNTFRva2VuKiAgICAgdGhlVG9rZW49IChDSFRNTFRva2VuKikoYVRva2Vu
KTsKLSAgZUhUTUxUb2tlblR5cGVzIHRoZVR5cGU9IChlSFRNTFRva2VuVHlwZXMpdGhlVG9rZW4t
PkdldFRva2VuVHlwZSgpOwotCi0gIE5TX0FTU0VSVElPTihtU2luaywgIk5vIHNpbmsgaW4gQ1Zp
ZXdTb3VyY2VIVE1MOjpIYW5kbGVUb2tlbj8gV2FzIFdpbGxCdWlsZE1vZGVsIGNhbGxlZD8iKTsK
LQotICBtVG9rZW5Ob2RlLkluaXQodGhlVG9rZW4sIG1Ub2tlbml6ZXItPkdldFRva2VuQWxsb2Nh
dG9yKCkpOwotCi0gIHN3aXRjaCh0aGVUeXBlKSB7Ci0KLSAgICBjYXNlIGVUb2tlbl9zdGFydDoK
LSAgICAgIHsKLSAgICAgICAgY29uc3QgbnNTdWJzdHJpbmcmIHN0YXJ0VmFsdWUgPSBhVG9rZW4t
PkdldFN0cmluZ1ZhbHVlKCk7Ci0gICAgICAgIHJlc3VsdCA9IFdyaXRlVGFnKGtTdGFydFRhZyxz
dGFydFZhbHVlLGFUb2tlbi0+R2V0QXR0cmlidXRlQ291bnQoKSxhVG9rZW4tPklzSW5FcnJvcigp
KTsKLQotICAgICAgICBpZigoZVBsYWluVGV4dCE9bURvY1R5cGUpICYmIChOU19PSz09cmVzdWx0
KSkgewotICAgICAgICAgIHJlc3VsdCA9IG1TaW5rLT5Ob3RpZnlUYWdPYnNlcnZlcnMoJm1Ub2tl
bk5vZGUpOwotICAgICAgICB9Ci0gICAgICB9Ci0gICAgICBicmVhazsKLQotICAgIGNhc2UgZVRv
a2VuX2VuZDoKLSAgICAgIHsKLSAgICAgICAgY29uc3QgbnNTdWJzdHJpbmcmIGVuZFZhbHVlID0g
YVRva2VuLT5HZXRTdHJpbmdWYWx1ZSgpOwotICAgICAgICByZXN1bHQgPSBXcml0ZVRhZyhrRW5k
VGFnLGVuZFZhbHVlLGFUb2tlbi0+R2V0QXR0cmlidXRlQ291bnQoKSxhVG9rZW4tPklzSW5FcnJv
cigpKTsKLSAgICAgIH0KLSAgICAgIGJyZWFrOwotCi0gICAgY2FzZSBlVG9rZW5fY2RhdGFzZWN0
aW9uOgotICAgICAgewotICAgICAgICBuc0F1dG9TdHJpbmcgdGhlU3RyOwotICAgICAgICB0aGVT
dHIuQXNzaWduTGl0ZXJhbCgiPCEiKTsKLSAgICAgICAgdGhlU3RyLkFwcGVuZChhVG9rZW4tPkdl
dFN0cmluZ1ZhbHVlKCkpOwotICAgICAgICBpZiAoIWFUb2tlbi0+SXNJbkVycm9yKCkpIHsKLSAg
ICAgICAgICB0aGVTdHIuQXBwZW5kTGl0ZXJhbCgiPiIpOwotICAgICAgICB9Ci0gICAgICAgIHJl
c3VsdD1Xcml0ZVRhZyhrQ0RhdGEsdGhlU3RyLDAsYVRva2VuLT5Jc0luRXJyb3IoKSk7Ci0gICAg
ICB9Ci0gICAgICBicmVhazsKLQotICAgIGNhc2UgZVRva2VuX21hcmt1cERlY2w6Ci0gICAgICB7
Ci0gICAgICAgIG5zQXV0b1N0cmluZyB0aGVTdHI7Ci0gICAgICAgIHRoZVN0ci5Bc3NpZ25MaXRl
cmFsKCI8ISIpOwotICAgICAgICB0aGVTdHIuQXBwZW5kKGFUb2tlbi0+R2V0U3RyaW5nVmFsdWUo
KSk7Ci0gICAgICAgIGlmICghYVRva2VuLT5Jc0luRXJyb3IoKSkgewotICAgICAgICAgIHRoZVN0
ci5BcHBlbmRMaXRlcmFsKCI+Iik7Ci0gICAgICAgIH0KLSAgICAgICAgcmVzdWx0PVdyaXRlVGFn
KGtNYXJrdXBEZWNsLHRoZVN0ciwwLGFUb2tlbi0+SXNJbkVycm9yKCkpOwotICAgICAgfQotICAg
ICAgYnJlYWs7Ci0KLSAgICBjYXNlIGVUb2tlbl9jb21tZW50OgotICAgICAgewotICAgICAgICBu
c0F1dG9TdHJpbmcgdGhlU3RyOwotICAgICAgICBhVG9rZW4tPkFwcGVuZFNvdXJjZVRvKHRoZVN0
cik7Ci0gICAgICAgIHJlc3VsdD1Xcml0ZVRhZyhrQ29tbWVudCx0aGVTdHIsMCxhVG9rZW4tPklz
SW5FcnJvcigpKTsKLSAgICAgIH0KLSAgICAgIGJyZWFrOwotCi0gICAgY2FzZSBlVG9rZW5fZG9j
dHlwZURlY2w6Ci0gICAgICB7Ci0gICAgICAgIGNvbnN0IG5zU3Vic3RyaW5nJiBkb2N0eXBlVmFs
dWUgPSBhVG9rZW4tPkdldFN0cmluZ1ZhbHVlKCk7Ci0gICAgICAgIHJlc3VsdD1Xcml0ZVRhZyhr
RG9jdHlwZSxkb2N0eXBlVmFsdWUsMCxhVG9rZW4tPklzSW5FcnJvcigpKTsKLSAgICAgIH0KLSAg
ICAgIGJyZWFrOwotCi0gICAgY2FzZSBlVG9rZW5fbmV3bGluZToKLSAgICAgIHsKLSAgICAgICAg
Y29uc3QgbnNTdWJzdHJpbmcmIG5ld2xpbmVWYWx1ZSA9IGFUb2tlbi0+R2V0U3RyaW5nVmFsdWUo
KTsKLSAgICAgICAgcmVzdWx0PVdyaXRlVGFnKGtUZXh0LG5ld2xpbmVWYWx1ZSwwLFBSX0ZBTFNF
KTsKLSAgICAgICAgKyttVG9rZW5Db3VudDsKLSAgICAgICAgaWYgKE5TX1ZJRVdTT1VSQ0VfVE9L
RU5TX1BFUl9CTE9DSyA+IDAgJiYKLSAgICAgICAgICAgIG1Ub2tlbkNvdW50ID4gTlNfVklFV1NP
VVJDRV9UT0tFTlNfUEVSX0JMT0NLKSB7Ci0gICAgICAgICAgU3RhcnROZXdQcmVCbG9jaygpOwot
ICAgICAgICB9Ci0gICAgICB9Ci0gICAgICBicmVhazsKLQotICAgIGNhc2UgZVRva2VuX3doaXRl
c3BhY2U6Ci0gICAgICB7Ci0gICAgICAgIGNvbnN0IG5zU3Vic3RyaW5nJiB3c1ZhbHVlID0gYVRv
a2VuLT5HZXRTdHJpbmdWYWx1ZSgpOwotICAgICAgICByZXN1bHQ9V3JpdGVUYWcoa1RleHQsd3NW
YWx1ZSwwLFBSX0ZBTFNFKTsKLSAgICAgICAgKyttVG9rZW5Db3VudDsKLSAgICAgICAgaWYgKE5T
X1ZJRVdTT1VSQ0VfVE9LRU5TX1BFUl9CTE9DSyA+IDAgJiYKLSAgICAgICAgICAgIG1Ub2tlbkNv
dW50ID4gTlNfVklFV1NPVVJDRV9UT0tFTlNfUEVSX0JMT0NLICYmCi0gICAgICAgICAgICAhd3NW
YWx1ZS5Jc0VtcHR5KCkpIHsKLSAgICAgICAgICBQUlVuaWNoYXIgY2ggPSB3c1ZhbHVlLkxhc3Qo
KTsKLSAgICAgICAgICBpZiAoY2ggPT0ga0xGIHx8IGNoID09IGtDUikKLSAgICAgICAgICAgIFN0
YXJ0TmV3UHJlQmxvY2soKTsKLSAgICAgICAgfQotICAgICAgfQotICAgICAgYnJlYWs7Ci0KLSAg
ICBjYXNlIGVUb2tlbl90ZXh0OgotICAgICAgewotICAgICAgICBjb25zdCBuc1N1YnN0cmluZyYg
c3RyID0gYVRva2VuLT5HZXRTdHJpbmdWYWx1ZSgpOwotICAgICAgICByZXN1bHQ9V3JpdGVUYWco
a1RleHQsc3RyLGFUb2tlbi0+R2V0QXR0cmlidXRlQ291bnQoKSxhVG9rZW4tPklzSW5FcnJvcigp
KTsKLSAgICAgICAgKyttVG9rZW5Db3VudDsKLSAgICAgICAgaWYgKE5TX1ZJRVdTT1VSQ0VfVE9L
RU5TX1BFUl9CTE9DSyA+IDAgJiYKLSAgICAgICAgICAgIG1Ub2tlbkNvdW50ID4gTlNfVklFV1NP
VVJDRV9UT0tFTlNfUEVSX0JMT0NLICYmICFzdHIuSXNFbXB0eSgpKSB7Ci0gICAgICAgICAgUFJV
bmljaGFyIGNoID0gc3RyLkxhc3QoKTsKLSAgICAgICAgICBpZiAoY2ggPT0ga0xGIHx8IGNoID09
IGtDUikKLSAgICAgICAgICAgIFN0YXJ0TmV3UHJlQmxvY2soKTsKLSAgICAgICAgfQotICAgICAg
fQotCi0gICAgICBicmVhazsKLQotICAgIGNhc2UgZVRva2VuX2VudGl0eToKLSAgICAgIHJlc3Vs
dD1Xcml0ZVRhZyhrRW50aXR5LGFUb2tlbi0+R2V0U3RyaW5nVmFsdWUoKSwwLGFUb2tlbi0+SXNJ
bkVycm9yKCkpOwotICAgICAgYnJlYWs7Ci0KLSAgICBjYXNlIGVUb2tlbl9pbnN0cnVjdGlvbjoK
LSAgICAgIHJlc3VsdD1Xcml0ZVRhZyhrUEksYVRva2VuLT5HZXRTdHJpbmdWYWx1ZSgpLDAsYVRv
a2VuLT5Jc0luRXJyb3IoKSk7Ci0gICAgICBicmVhazsKLQotICAgIGRlZmF1bHQ6Ci0gICAgICBy
ZXN1bHQ9TlNfT0s7Ci0gIH0vL3N3aXRjaAotCi0gIG1Ub2tlbk5vZGUuUmVsZWFzZUFsbCgpOwot
Ci0gIHJldHVybiByZXN1bHQ7Ci19Ci0KLVBSQm9vbCBDVmlld1NvdXJjZUhUTUw6OklzVXJsQXR0
cmlidXRlKGNvbnN0IG5zQVN0cmluZyYgdGFnTmFtZSwKLSAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGNvbnN0IG5zQVN0cmluZyYgYXR0ck5hbWUsIAotICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbnNBU3RyaW5nJiBhdHRyVmFsdWUpIHsK
LSAgY29uc3QgbnNTdWJzdHJpbmcgJnRyaW1tZWRBdHRyTmFtZSA9IFRyaW1Ub2tlblZhbHVlKGF0
dHJOYW1lKTsKLQotICBQUkJvb2wgaXNIcmVmID0gdHJpbW1lZEF0dHJOYW1lLkxvd2VyQ2FzZUVx
dWFsc0xpdGVyYWwoImhyZWYiKTsKLSAgUFJCb29sIGlzU3JjID0gIWlzSHJlZiAmJiB0cmltbWVk
QXR0ck5hbWUuTG93ZXJDYXNlRXF1YWxzTGl0ZXJhbCgic3JjIik7Ci0gIFBSQm9vbCBpc1hMaW5r
ID0gIWlzSHJlZiAmJiAhaXNTcmMgJiYKLSAgICBtRG9jVHlwZSA9PSBlWE1MICYmIHRyaW1tZWRB
dHRyTmFtZS5FcXVhbHNMaXRlcmFsKCJ4bGluazpocmVmIik7Ci0KLSAgLy8gSWYgdGhpcyBpcyB0
aGUgSFJFRiBhdHRyaWJ1dGUgb2YgYSBCQVNFIGVsZW1lbnQsIHRoZW4gdXBkYXRlIHRoZSBiYXNl
IFVSSS4KLSAgLy8gVGhpcyBkb2Vzbid0IGZlZWwgbGlrZSB0aGUgaWRlYWwgcGxhY2UgZm9yIHRo
aXMsIGJ1dCB0aGUgYWx0ZXJuYXRpdmVzIGRvbid0Ci0gIC8vIHNlZW0gYWxsIHRoYXQgbmljZSBl
aXRoZXIuCi0gIGlmIChpc0hyZWYgJiYgdGFnTmFtZS5Mb3dlckNhc2VFcXVhbHNMaXRlcmFsKCJi
YXNlIikpIHsKLSAgICBjb25zdCBuc0FTdHJpbmcmIGJhc2VTcGVjID0gVHJpbVRva2VuVmFsdWUo
YXR0clZhbHVlKTsKLSAgICBuc0F1dG9TdHJpbmcgZXhwYW5kZWRCYXNlU3BlYzsKLSAgICBFeHBh
bmRFbnRpdGllcyhiYXNlU3BlYywgZXhwYW5kZWRCYXNlU3BlYyk7Ci0gICAgU2V0QmFzZVVSSShl
eHBhbmRlZEJhc2VTcGVjKTsKLSAgfQotCi0gIHJldHVybiBpc0hyZWYgfHwgaXNTcmMgfHwgaXNY
TGluazsKLX0KLQotdm9pZCBDVmlld1NvdXJjZUhUTUw6OldyaXRlSHJlZkF0dHJpYnV0ZShuc1Rv
a2VuQWxsb2NhdG9yKiBhbGxvY2F0b3IsCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGNvbnN0IG5zQVN0cmluZyYgaHJlZikgewotICAvLyBUaGUgImhyZWYiIHdpbGwg
dHlwaWNhbGx5IGNvbnRhaW4gbm90IG9ubHkgdGhlIGhyZWYgcHJvcGVyLCBidXQgdGhlIHNpbmds
ZQotICAvLyBvciBkb3VibGUgcXVvdGVzIGFuZCBvZnRlbiBzb21lIHN1cnJvdW5kaW5nIHdoaXRl
c3BhY2UgYXMgd2VsbC4gIEZpbmQgdGhlCi0gIC8vIGxvY2F0aW9uIG9mIHRoZSBocmVmIHByb3Bl
ciBpbnNpZGUgdGhlIHN0cmluZy4KLSAgbnNBU3RyaW5nOjpjb25zdF9pdGVyYXRvciBzdGFydFBy
b3BlciwgZW5kUHJvcGVyOwotICBocmVmLkJlZ2luUmVhZGluZyhzdGFydFByb3Blcik7Ci0gIGhy
ZWYuRW5kUmVhZGluZyhlbmRQcm9wZXIpOwotICBUcmltVG9rZW5WYWx1ZShzdGFydFByb3Blciwg
ZW5kUHJvcGVyKTsKLQotICAvLyBCcmVhayB0aGUgaHJlZiBpbnRvIHRocmVlIHBhcnRzLCB0aGUg
cHJlY2VkaW5nIHRleHQsIHRoZSBocmVmIHByb3BlciwgYW5kCi0gIC8vIHRoZSBzdWNjZWVkaW5n
IHRleHQuCi0gIG5zQVN0cmluZzo6Y29uc3RfaXRlcmF0b3Igc3RhcnQsIGVuZDsKLSAgaHJlZi5C
ZWdpblJlYWRpbmcoc3RhcnQpOwotICBocmVmLkVuZFJlYWRpbmcoZW5kKTsgIAotICBjb25zdCBu
c0FTdHJpbmcgJnByZWNlZGluZ1RleHQgPSBTdWJzdHJpbmcoc3RhcnQsIHN0YXJ0UHJvcGVyKTsK
LSAgY29uc3QgbnNBU3RyaW5nICZocmVmUHJvcGVyID0gU3Vic3RyaW5nKHN0YXJ0UHJvcGVyLCBl
bmRQcm9wZXIpOwotICBjb25zdCBuc0FTdHJpbmcgJnN1Y2NlZWRpbmdUZXh0ID0gU3Vic3RyaW5n
KGVuZFByb3BlciwgZW5kKTsKLQotICBuc0F1dG9TdHJpbmcgZnVsbFByZWNlZGluZ1RleHQ7Ci0g
IGZ1bGxQcmVjZWRpbmdUZXh0LkFzc2lnbihrRXF1YWwpOwotICBmdWxsUHJlY2VkaW5nVGV4dC5B
cHBlbmQocHJlY2VkaW5nVGV4dCk7Ci0KLSAgLy8gUmVndWxhciBVUkxzIGFuZCB2aWV3LXNvdXJj
ZSBVUkxzIHdvcmsgdGhlIHNhbWUgd2F5IGZvciAuanMgYW5kIC5jc3MgZmlsZXMuCi0gIC8vIEhv
d2V2ZXIsIGlmIHRoZSB1c2VyIGZvbGxvd3MgYSBsaW5rIGluIHRoZSB2aWV3IHNvdXJjZSB3aW5k
b3cgdG8gYSAuaHRtbAotICAvLyBmaWxlIChpLmUuIHRoZSBIUkVGIGluIGFuIEEgdGFnKSwgdGhl
biBwcmVzdW1hYmx5IHRoZXkgd2lsbCBleHBlY3QgdG8gc2VlCi0gIC8vIHRoZSAqc291cmNlKiBv
ZiB0aGF0IG5ldyBwYWdlLCBub3QgdGhlIHJlbmRlcmVkIHZlcnNpb24uICBTbyBmb3Igbm93IHdl
Ci0gIC8vIGp1c3Qgc2xhcCBhICJ2aWV3LXNvdXJjZToiIGF0IHRoZSBiZWdpbm5pbmcgb2YgZWFj
aCBVUkwuICBUaGVyZSBhcmUgdHdvCi0gIC8vIGJpZyBkb3duc2lkZXMgdG8gZG9pbmcgaXQgdGhp
cyB3YXkgLS0gd2UgbXVzdCBtYWtlIHJlbGF0aXZlIFVSTHMgaW50bwotICAvLyBhYnNvbHV0ZSBV
UkxzIGJlZm9yZSB3ZSBjYW4gdHVybiB0aGVtIGludG8gdmlldy1zb3VyY2UgVVJMcywgYW5kIGxp
bmtzCi0gIC8vIHRvIGltYWdlcyBkb24ndCB3b3JrIHJpZ2h0IC0tIG5vYm9keSB3YW50cyB0byBz
ZWUgdGhlIGJ5dGVzIGNvbnN0aXR1dGluZyBhCi0gIC8vIFBORyByZW5kZXJlZCBhcyB0ZXh0LiAg
QSBzbWFydGVyIHZpZXctc291cmNlIGhhbmRsZXIgbWlnaHQgYmUgYWJsZSB0byBkZWFsCi0gIC8v
IHdpdGggdGhlIGxhdHRlciBwcm9ibGVtLgotCi0gIC8vIENvbnN0cnVjdCBhICJ2aWV3LXNvdXJj
ZSIgVVJMIGZvciB0aGUgSFJFRi4KLSAgbnNBdXRvU3RyaW5nIHZpZXdTb3VyY2VVcmw7Ci0gIENy
ZWF0ZVZpZXdTb3VyY2VVUkwoaHJlZlByb3Blciwgdmlld1NvdXJjZVVybCk7Ci0KLSAgLy8gQ29u
c3RydWN0IHRoZSBIVE1MIHRoYXQgd2lsbCByZXByZXNlbnQgdGhlIEhSRUYuCi0gIGlmICh2aWV3
U291cmNlVXJsLklzRW1wdHkoKSkgewotICAgIG5zQXV0b1N0cmluZyBlcXVhbHNIcmVmKGtFcXVh
bCk7Ci0gICAgZXF1YWxzSHJlZi5BcHBlbmQoaHJlZik7Ci0gICAgV3JpdGVUZXh0SW5TcGFuKGVx
dWFsc0hyZWYsIGFsbG9jYXRvciwgRW1wdHlTdHJpbmcoKSwgRW1wdHlTdHJpbmcoKSk7Ci0gIH0g
ZWxzZSB7Ci0gICAgTlNfTkFNRURfTElURVJBTF9TVFJJTkcoSFJFRiwgImhyZWYiKTsKLSAgICBp
ZiAoZnVsbFByZWNlZGluZ1RleHQuTGVuZ3RoKCkgPiAwKSB7Ci0gICAgICBXcml0ZVRleHRJblNw
YW4oZnVsbFByZWNlZGluZ1RleHQsIGFsbG9jYXRvciwgRW1wdHlTdHJpbmcoKSwgRW1wdHlTdHJp
bmcoKSk7Ci0gICAgfQotICAgIFdyaXRlVGV4dEluQW5jaG9yKGhyZWZQcm9wZXIsIGFsbG9jYXRv
ciwgSFJFRiwgdmlld1NvdXJjZVVybCk7Ci0gICAgaWYgKHN1Y2NlZWRpbmdUZXh0Lkxlbmd0aCgp
ID4gMCkgewotICAgICAgV3JpdGVUZXh0SW5TcGFuKHN1Y2NlZWRpbmdUZXh0LCBhbGxvY2F0b3Is
IEVtcHR5U3RyaW5nKCksIEVtcHR5U3RyaW5nKCkpOwotICAgIH0KLSAgfQotfQotCi1uc3Jlc3Vs
dCBDVmlld1NvdXJjZUhUTUw6OkNyZWF0ZVZpZXdTb3VyY2VVUkwoY29uc3QgbnNBU3RyaW5nJiBs
aW5rVXJsLAotICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5z
U3RyaW5nJiB2aWV3U291cmNlVXJsKSB7Ci0gIG5zQ09NUHRyPG5zSVVSST4gYmFzZVVSSTsKLSAg
bnNDT01QdHI8bnNJVVJJPiBocmVmVVJJOwotICBuc3Jlc3VsdCBydjsKLQotICAvLyBEZWZhdWx0
IHRoZSB2aWV3IHNvdXJjZSBVUkwgdG8gdGhlIGVtcHR5IHN0cmluZyBpbiBjYXNlIHdlIGZhaWwu
Ci0gIHZpZXdTb3VyY2VVcmwuVHJ1bmNhdGUoKTsKLQotICAvLyBHZXQgdGhlIEJhc2VVUkkuCi0g
IHJ2ID0gR2V0QmFzZVVSSShnZXR0ZXJfQWRkUmVmcyhiYXNlVVJJKSk7Ci0gIE5TX0VOU1VSRV9T
VUNDRVNTKHJ2LCBydik7Ci0KLSAgLy8gVXNlIHRoZSBsaW5rIFVSTCBhbmQgdGhlIGJhc2UgVVJJ
IHRvIGJ1aWxkIGEgVVJJIGZvciB0aGUgbGluay4gIE5vdGUgdGhhdAotICAvLyB0aGUgbGluayBV
UkwgbWF5IGhhdmUgdW50cmFuc2xhdGVkIGVudGl0aWVzIGluIGl0LgotICBuc0F1dG9TdHJpbmcg
ZXhwYW5kZWRMaW5rVXJsOwotICBFeHBhbmRFbnRpdGllcyhsaW5rVXJsLCBleHBhbmRlZExpbmtV
cmwpOwotICBydiA9IE5TX05ld1VSSShnZXR0ZXJfQWRkUmVmcyhocmVmVVJJKSwgZXhwYW5kZWRM
aW5rVXJsLCBtQ2hhcnNldC5nZXQoKSwgYmFzZVVSSSk7Ci0gIE5TX0VOU1VSRV9TVUNDRVNTKHJ2
LCBydik7Ci0KLSAgLy8gR2V0IHRoZSBhYnNvbHV0ZSBVUkwgZnJvbSB0aGUgbGluayBVUkkuCi0g
IG5zQ1N0cmluZyBhYnNvbHV0ZUxpbmtVcmw7Ci0gIGhyZWZVUkktPkdldFNwZWMoYWJzb2x1dGVM
aW5rVXJsKTsKLQotICAvLyBVUkxzIHRoYXQgZXhlY3V0ZSBzY3JpcHQgKGUuZy4gImphdmFzY3Jp
cHQ6IiBVUkxzKSBzaG91bGQganVzdCBiZQotICAvLyBpZ25vcmVkLiAgVGhlcmUncyBub3RoaW5n
IHJlYXNvbmFibGUgd2UgY2FuIGRvIHdpdGggdGhlbSwgYW5kIGFsbG93aW5nCi0gIC8vIHRoZW0g
dG8gZXhlY3V0ZSBpbiB0aGUgY29udGV4dCBvZiB0aGUgdmlldy1zb3VyY2Ugd2luZG93IHByZXNl
bnRzIGEKLSAgLy8gc2VjdXJpdHkgcmlzay4gIEp1c3QgcmV0dXJuIHRoZSBlbXB0eSBzdHJpbmcg
aW4gdGhpcyBjYXNlLgotICBQUkJvb2wgb3BlbmluZ0V4ZWN1dGVzU2NyaXB0ID0gUFJfRkFMU0U7
Ci0gIHJ2ID0gTlNfVVJJQ2hhaW5IYXNGbGFncyhocmVmVVJJLCBuc0lQcm90b2NvbEhhbmRsZXI6
OlVSSV9PUEVOSU5HX0VYRUNVVEVTX1NDUklQVCwKLSAgICAgICAgICAgICAgICAgICAgICAgICAg
ICZvcGVuaW5nRXhlY3V0ZXNTY3JpcHQpOwotICBOU19FTlNVUkVfU1VDQ0VTUyhydiwgTlNfT0sp
OyAvLyBpZiB0aGVyZSdzIGFuIGVycm9yLCByZXR1cm4gdGhlIGVtcHR5IHN0cmluZwotICBpZiAo
b3BlbmluZ0V4ZWN1dGVzU2NyaXB0KSB7Ci0gICAgcmV0dXJuIE5TX09LOwotICB9Ci0KLSAgLy8g
VVJMcyB0aGF0IHJldHVybiBkYXRhIChlLmcuICJodHRwOiIgVVJMcykgc2hvdWxkIGJlIHByZWZp
eGVkIHdpdGgKLSAgLy8gInZpZXctc291cmNlOiIuICBVUkxzIHRoYXQgZG9uJ3QgcmV0dXJuIGRh
dGEgc2hvdWxkIGp1c3QgYmUgcmV0dXJuZWQKLSAgLy8gdW5kZWNvcmF0ZWQuCi0gIFBSQm9vbCBk
b2VzTm90UmV0dXJuRGF0YSA9IFBSX0ZBTFNFOwotICBydiA9IE5TX1VSSUNoYWluSGFzRmxhZ3Mo
aHJlZlVSSSwgbnNJUHJvdG9jb2xIYW5kbGVyOjpVUklfRE9FU19OT1RfUkVUVVJOX0RBVEEsCi0g
ICAgICAgICAgICAgICAgICAgICAgICAgICAmZG9lc05vdFJldHVybkRhdGEpOwotICBOU19FTlNV
UkVfU1VDQ0VTUyhydiwgTlNfT0spOyAgLy8gaWYgdGhlcmUncyBhbiBlcnJvciwgcmV0dXJuIHRo
ZSBlbXB0eSBzdHJpbmcKLSAgaWYgKCFkb2VzTm90UmV0dXJuRGF0YSkgewotICAgIHZpZXdTb3Vy
Y2VVcmwuQXNzaWduTGl0ZXJhbCgidmlldy1zb3VyY2U6Iik7ICAgIAotICB9Ci0KLSAgdmlld1Nv
dXJjZVVybC5BcHBlbmRXaXRoQ29udmVyc2lvbihhYnNvbHV0ZUxpbmtVcmwpOwotCi0gIHJldHVy
biBOU19PSzsKLX0KLQotdm9pZCBDVmlld1NvdXJjZUhUTUw6OldyaXRlVGV4dEluU3Bhbihjb25z
dCBuc0FTdHJpbmcmIHRleHQsIAotICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBuc1Rva2VuQWxsb2NhdG9yKiBhbGxvY2F0b3IsIAotICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBjb25zdCBuc0FTdHJpbmcmIGF0dHJOYW1lLCAKLSAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbnNBU3RyaW5nJiBhdHRyVmFsdWUpIHsKLSAg
TlNfTkFNRURfTElURVJBTF9TVFJJTkcoU1BBTiwgIlNQQU4iKTsKLSAgV3JpdGVUZXh0SW5FbGVt
ZW50KFNQQU4sIGVIVE1MVGFnX3NwYW4sIHRleHQsIGFsbG9jYXRvciwgYXR0ck5hbWUsIGF0dHJW
YWx1ZSk7Ci19Ci0KLXZvaWQgQ1ZpZXdTb3VyY2VIVE1MOjpXcml0ZVRleHRJbkFuY2hvcihjb25z
dCBuc0FTdHJpbmcmIHRleHQsIAotICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIG5zVG9rZW5BbGxvY2F0b3IqIGFsbG9jYXRvciwgCi0gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgY29uc3QgbnNBU3RyaW5nJiBhdHRyTmFtZSwgCi0gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbnNBU3RyaW5nJiBhdHRyVmFsdWUp
IHsKLSAgTlNfTkFNRURfTElURVJBTF9TVFJJTkcoQU5DSE9SLCAiQSIpOwotICBXcml0ZVRleHRJ
bkVsZW1lbnQoQU5DSE9SLCBlSFRNTFRhZ19hLCB0ZXh0LCBhbGxvY2F0b3IsIGF0dHJOYW1lLCBh
dHRyVmFsdWUpOwotfQotCi12b2lkIENWaWV3U291cmNlSFRNTDo6V3JpdGVUZXh0SW5FbGVtZW50
KGNvbnN0IG5zQVN0cmluZyYgdGFnTmFtZSwgCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIGVIVE1MVGFncyB0YWdUeXBlLCBjb25zdCBuc0FTdHJpbmcmIHRleHQsCi0g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5zVG9rZW5BbGxvY2F0b3Iq
IGFsbG9jYXRvciwKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29u
c3QgbnNBU3RyaW5nJiBhdHRyTmFtZSwgCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGNvbnN0IG5zQVN0cmluZyYgYXR0clZhbHVlKSB7Ci0gIC8vIE9wZW4gdGhlIGVs
ZW1lbnQsIHN1cHBseWluZyB0aGUgYXR0cmlidXRlLCBpZiBhbnkuCi0gIG5zVG9rZW5BbGxvY2F0
b3IqIHRoZUFsbG9jYXRvciA9IG1Ub2tlbml6ZXItPkdldFRva2VuQWxsb2NhdG9yKCk7Ci0gIGlm
ICghdGhlQWxsb2NhdG9yKSB7Ci0gICAgcmV0dXJuOwotICB9Ci0KLSAgQ1N0YXJ0VG9rZW4qIHN0
YXJ0VG9rZW4gPQotICAgIHN0YXRpY19jYXN0PENTdGFydFRva2VuKj4KLSAgICAgICh0aGVBbGxv
Y2F0b3ItPkNyZWF0ZVRva2VuT2ZUeXBlKGVUb2tlbl9zdGFydCwgdGFnVHlwZSwgdGFnTmFtZSkp
OwotICBpZiAoIXN0YXJ0VG9rZW4pIHsKLSAgICByZXR1cm47Ci0gIH0KLQotICBuc0NQYXJzZXJT
dGFydE5vZGUgc3RhcnROb2RlKHN0YXJ0VG9rZW4sIHRoZUFsbG9jYXRvcik7Ci0gIGlmICghYXR0
ck5hbWUuSXNFbXB0eSgpKSB7Ci0gICAgQWRkQXR0clRvTm9kZShzdGFydE5vZGUsIGFsbG9jYXRv
ciwgYXR0ck5hbWUsIGF0dHJWYWx1ZSk7Ci0gIH0KLSAgbVNpbmstPk9wZW5Db250YWluZXIoc3Rh
cnROb2RlKTsKLSAgSUZfRlJFRShzdGFydFRva2VuLCB0aGVBbGxvY2F0b3IpOwotCi0gIC8vIEFk
ZCB0aGUgdGV4dCBub2RlLgotICBDVGV4dFRva2VuIHRleHRUb2tlbih0ZXh0KTsKLSAgbnNDUGFy
c2VyTm9kZSB0ZXh0Tm9kZSgmdGV4dFRva2VuLCAwLypzdGFjayB0b2tlbiovKTsKLSAgbVNpbmst
PkFkZExlYWYodGV4dE5vZGUpOwotCi0gIC8vIENsb3NlIHRoZSBlbGVtZW50LgotICBtU2luay0+
Q2xvc2VDb250YWluZXIodGFnVHlwZSk7Ci19Ci0KLWNvbnN0IG5zRGVwZW5kZW50U3Vic3RyaW5n
IENWaWV3U291cmNlSFRNTDo6VHJpbVRva2VuVmFsdWUoY29uc3QgbnNBU3RyaW5nJiB0b2tlblZh
bHVlKSB7Ci0gIG5zQVN0cmluZzo6Y29uc3RfaXRlcmF0b3Igc3RhcnQsIGVuZDsKLSAgdG9rZW5W
YWx1ZS5CZWdpblJlYWRpbmcoc3RhcnQpOwotICB0b2tlblZhbHVlLkVuZFJlYWRpbmcoZW5kKTsK
LSAgVHJpbVRva2VuVmFsdWUoc3RhcnQsIGVuZCk7Ci0gIHJldHVybiBTdWJzdHJpbmcoc3RhcnQs
IGVuZCk7Ci19Ci0KLXZvaWQgQ1ZpZXdTb3VyY2VIVE1MOjpUcmltVG9rZW5WYWx1ZShuc0FTdHJp
bmc6OmNvbnN0X2l0ZXJhdG9yJiBzdGFydCwKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBuc0FTdHJpbmc6OmNvbnN0X2l0ZXJhdG9yJiBlbmQpIHsKLSAgLy8gVG9rZW4gdmFs
dWVzIC0tIHRhZyBuYW1lcywgYXR0cmlidXRlIG5hbWVzLCBhbmQgYXR0cmlidXRlIHZhbHVlcyAt
LQotICAvLyBnZW5lcmFsbHkgY29udGFpbiBhZGphY2VudCB3aGl0ZXNwYWNlIGFuZCwgaW4gdGhl
IGNhc2Ugb2YgYXR0cmlidXRlIHZhbHVlcywKLSAgLy8gdGhlIHN1cnJvdW5kaW5nIGRvdWJsZSBv
ciBzaW5nbGUgcXVvdGVzLiAgUmV0dXJuIGEgbmV3IHN0cmluZyB3aXRoIHRoaXMKLSAgLy8gYWRq
YWNlbnQgdGV4dCBzdHJpcHBlZCBvZmYsIHNvIG9ubHkgdGhlIHZhbHVlIHByb3BlciByZW1haW5z
LgotICAgICAgICAKLSAgLy8gU2tpcCBwYXN0IGFueSB3aGl0ZXNwYWNlIG9yIHF1b3RlcyBvbiB0
aGUgbGVmdC4KLSAgd2hpbGUgKHN0YXJ0ICE9IGVuZCkgewotICAgIGlmICghSXNUb2tlblZhbHVl
VHJpbW1hYmxlQ2hhcmFjdGVyKCpzdGFydCkpIGJyZWFrOwotICAgICsrc3RhcnQ7Ci0gIH0KLQot
ICAvLyBTa2lwIHBhc3QgYW55IHdoaXRlc3BhY2Ugb3IgcXVvdGVzIG9uIHRoZSByaWdodC4gIE5v
dGUgdGhhdCB0aGUgaW50ZXJ2YWwgCi0gIC8vIHN0YXJ0Li5lbmQgaXMgaGFsZi1vcGVuLiAgVGhh
dCBtZWFucyB0aGUgbGFzdCBjaGFyYWN0ZXIgb2YgdGhlIGludGVydmFsIGlzCi0gIC8vIGF0ICoo
ZW5kIC0gMSkuCi0gIHdoaWxlIChlbmQgIT0gc3RhcnQpIHsgICAgICAKLSAgICAtLWVuZDsKLSAg
ICBpZiAoIUlzVG9rZW5WYWx1ZVRyaW1tYWJsZUNoYXJhY3RlcigqZW5kKSkgewotICAgICAgKytl
bmQ7IC8vIHdlJ3ZlIGFjdHVhbGx5IGdvbmUgb25lIHRvbyBmYXIgYXQgdGhpcyBwb2ludCwgc28g
YWRqdXN0LgotICAgICAgYnJlYWs7Ci0gICAgfQotICB9Ci19Ci0KLVBSQm9vbCBDVmlld1NvdXJj
ZUhUTUw6OklzVG9rZW5WYWx1ZVRyaW1tYWJsZUNoYXJhY3RlcihQUlVuaWNoYXIgY2gpIHsKLSAg
aWYgKGNoID09ICcgJykgcmV0dXJuIFBSX1RSVUU7Ci0gIGlmIChjaCA9PSAnXHQnKSByZXR1cm4g
UFJfVFJVRTsKLSAgaWYgKGNoID09ICdccicpIHJldHVybiBQUl9UUlVFOwotICBpZiAoY2ggPT0g
J1xuJykgcmV0dXJuIFBSX1RSVUU7Ci0gIGlmIChjaCA9PSAnXCcnKSByZXR1cm4gUFJfVFJVRTsK
LSAgaWYgKGNoID09ICciJykgcmV0dXJuIFBSX1RSVUU7Ci0gIHJldHVybiBQUl9GQUxTRTsKLX0K
LQotbnNyZXN1bHQgQ1ZpZXdTb3VyY2VIVE1MOjpHZXRCYXNlVVJJKG5zSVVSSSAqKnJlc3VsdCkg
ewotICBuc3Jlc3VsdCBydiA9IE5TX09LOwotICBpZiAoIW1CYXNlVVJJKSB7Ci0gICAgcnYgPSBT
ZXRCYXNlVVJJKG1GaWxlbmFtZSk7Ci0gIH0KLSAgTlNfSUZfQUREUkVGKCpyZXN1bHQgPSBtQmFz
ZVVSSSk7Ci0gIHJldHVybiBydjsKLX0KLQotbnNyZXN1bHQgQ1ZpZXdTb3VyY2VIVE1MOjpTZXRC
YXNlVVJJKGNvbnN0IG5zQVN0cmluZyYgYmFzZVNwZWMpIHsKLSAgLy8gQ3JlYXRlIGEgbmV3IGJh
c2UgVVJJIGFuZCBzdG9yZSBpdCBpbiBtQmFzZVVSSS4KLSAgbnNDT01QdHI8bnNJVVJJPiBiYXNl
VVJJOwotICBuc3Jlc3VsdCBydiA9IE5TX05ld1VSSShnZXR0ZXJfQWRkUmVmcyhiYXNlVVJJKSwg
YmFzZVNwZWMsIG1DaGFyc2V0LmdldCgpKTsKLSAgTlNfRU5TVVJFX1NVQ0NFU1MocnYsIHJ2KTsK
LSAgbUJhc2VVUkkgPSBiYXNlVVJJOwotICByZXR1cm4gTlNfT0s7Ci19Ci0KLXZvaWQgQ1ZpZXdT
b3VyY2VIVE1MOjpFeHBhbmRFbnRpdGllcyhjb25zdCBuc0FTdHJpbmcmIHRleHRJbiwgbnNTdHJp
bmcmIHRleHRPdXQpCi17ICAKLSAgbnNBU3RyaW5nOjpjb25zdF9pdGVyYXRvciBpdGVyLCBlbmQ7
Ci0gIHRleHRJbi5CZWdpblJlYWRpbmcoaXRlcik7Ci0gIHRleHRJbi5FbmRSZWFkaW5nKGVuZCk7
Ci0KLSAgLy8gVGhlIG91dGVyIGxvb3AgdHJlYXRzIHRoZSBpbnB1dCBhcyBhIHNlcXVlbmNlIG9m
IHBhaXJzIG9mIHJ1bnMuICBUaGUgZmlyc3QKLSAgLy8gcnVuIG9mIGVhY2ggcGFpciBpcyBqdXN0
IGEgcnVuIG9mIHJlZ3VsYXIgY2hhcmFjdGVycy4gIFRoZSBzZWNvbmQgcnVuIGlzCi0gIC8vIHNv
bWV0aGluZyB0aGF0IGxvb2tzIGxpa2UgaXQgbWlnaHQgYmUgYW4gZW50aXR5IHJlZmVyZW5jZSwg
ZS5nLiAiJmFtcDsiLgotICAvLyBBbnkgcmVndWxhciBydW4gbWF5IGJlIGVtcHR5LCBhbmQgdGhl
IGVudGl0eSBydW4gY2FuIGJlIHNraXBwZWQgYXQgdGhlIGVuZAotICAvLyBvZiB0aGUgdGV4dC4g
IEFwcGFyZW50IGVudGl0aWVzIHRoYXQgY2FuJ3QgYmUgdHJhbnNsYXRlZCBhcmUgY29waWVkCi0g
IC8vIHZlcmJhdGltLiAgSW4gcGFydGljdWxhciB0aGlzIGFsbG93cyBmb3IgcmF3IGFtcGVyc2Fu
ZHMgaW4gdGhlIGlucHV0LgotICAvLyBTcGVjaWFsIGNhcmUgaXMgdGFrZW4gdG8gaGFuZGxlIHRo
ZSBlbmQgb2YgdGhlIHRleHQgYXQgYW55IHBvaW50IGluc2lkZQotICAvLyB0aGUgbG9vcC4KLSAg
d2hpbGUgKGl0ZXIgIT0gZW5kKSB7Ci0gICAgLy8gQ29weSBjaGFyYWN0ZXJzIHRvIHRleHRPdXQg
dW50aWwgYnV0IG5vdCBpbmNsdWRpbmcgdGhlIGZpcnN0IGFtcGVyc2FuZC4KLSAgICBmb3IgKDsg
aXRlciAhPSBlbmQ7ICsraXRlcikgewotICAgICAgUFJVbmljaGFyIGNoID0gKml0ZXI7Ci0gICAg
ICBpZiAoY2ggPT0ga0FtcGVyc2FuZCkgewotICAgICAgICBicmVhazsKLSAgICAgIH0KLSAgICAg
IHRleHRPdXQuQXBwZW5kKGNoKTsKLSAgICB9Ci0KLSAgICAvLyBXZSBoYXZlIGEgcG9zc2libGUg
ZW50aXR5LiAgSWYgdGhlIGVudGl0eSBpcyB3ZWxsLWZvcm1lZCAob3Igd2VsbC1lbm91Z2gKLSAg
ICAvLyBmb3JtZWQpIGNvcHkgdGhlIGVudGl0eSB2YWx1ZSB0byAidGV4dE91dCIuICBPdGhlcndp
c2UsIGNvcHkgdGhlICJlbnRpdHkiCi0gICAgLy8gc291cmNlIGNoYXJhY3RlcnMgdG8gInRleHRP
dXQiIHZlcmJhdGltLiAgRWl0aGVyIHdheSwgYWR2YW5jZSAiaXRlciIgdG8KLSAgICAvLyB0aGUg
Zmlyc3QgcG9zaXRpb24gYWZ0ZXIgdGhlIGVudGl0eS9lbnRpdHktbGlrZS10aGluZy4KLSAgICBD
b3B5UG9zc2libGVFbnRpdHkoaXRlciwgZW5kLCB0ZXh0T3V0KTsKLSAgfQotfQotCi1zdGF0aWMg
UFJCb29sIEluUmFuZ2UoUFJVbmljaGFyIGNoLCB1bnNpZ25lZCBjaGFyIGNoTG93LCB1bnNpZ25l
ZCBjaGFyIGNoSGlnaCkKLXsKLSAgcmV0dXJuIChjaExvdyA8PSBjaCkgJiYgKGNoIDw9IGNoSGln
aCk7Ci19Ci0KLXN0YXRpYyBQUkJvb2wgSXNEaWdpdChQUlVuaWNoYXIgY2gpCi17IAotICByZXR1
cm4gSW5SYW5nZShjaCwgJzAnLCAnOScpOwotfQotCi1zdGF0aWMgUFJCb29sIElzSGV4RGlnaXQo
UFJVbmljaGFyIGNoKQotewotICByZXR1cm4gSXNEaWdpdChjaCkgfHwgSW5SYW5nZShjaCwgJ0En
LCAnRicpIHx8IEluUmFuZ2UoY2gsICdhJywgJ2YnKTsKLX0KLQotc3RhdGljIFBSQm9vbCBJc0Fs
cGhhTnVtKFBSVW5pY2hhciBjaCkKLXsKLSAgcmV0dXJuIEluUmFuZ2UoY2gsICdBJywgJ1onKSB8
fCBJblJhbmdlKGNoLCAnYScsICd6JykgfHwgSXNEaWdpdChjaCk7Ci19Ci0KLXN0YXRpYyBQUkJv
b2wgSXNBbXBlcnNhbmQoUFJVbmljaGFyIGNoKQotewotICByZXR1cm4gY2ggPT0ga0FtcGVyc2Fu
ZDsKLX0KLQotc3RhdGljIFBSQm9vbCBJc0hhc2hzaWduKFBSVW5pY2hhciBjaCkKLXsKLSAgcmV0
dXJuIGNoID09IGtIYXNoc2lnbjsKLX0KLQotc3RhdGljIFBSQm9vbCBJc1h4KFBSVW5pY2hhciBj
aCkKLXsKLSAgcmV0dXJuIChjaCA9PSAnWCcpIHx8IChjaCA9PSAneCcpOwotfQotCi1zdGF0aWMg
UFJCb29sIElzU2VtaWNvbG9uKFBSVW5pY2hhciBjaCkKLXsKLSAgcmV0dXJuIGNoID09IGtTZW1p
Y29sb247Ci19Ci0KLXN0YXRpYyBQUkJvb2wgQ29uc3VtZUNoYXIobnNBU3RyaW5nOjpjb25zdF9p
dGVyYXRvciYgc3RhcnQsCi0gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5zQVN0cmlu
Zzo6Y29uc3RfaXRlcmF0b3IgJmVuZCwKLSAgICAgICAgICAgICAgICAgICAgICAgICAgUFJCb29s
ICgqdGVzdEZ1bikoUFJVbmljaGFyIGNoKSkKLXsKLSAgaWYgKHN0YXJ0ID09IGVuZCkgewotICAg
IHJldHVybiBQUl9GQUxTRTsKLSAgfQotICBpZiAoIXRlc3RGdW4oKnN0YXJ0KSkgewotICAgIHJl
dHVybiBQUl9GQUxTRTsKLSAgfQotICArK3N0YXJ0OwotICByZXR1cm4gUFJfVFJVRTsKLX0KLQot
dm9pZCBDVmlld1NvdXJjZUhUTUw6OkNvcHlQb3NzaWJsZUVudGl0eShuc0FTdHJpbmc6OmNvbnN0
X2l0ZXJhdG9yJiBpdGVyLAotICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBjb25zdCBuc0FTdHJpbmc6OmNvbnN0X2l0ZXJhdG9yJiBlbmQsCi0gICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIG5zQVN0cmluZyYgdGV4dEJ1ZmZlcikKLXsKLSAgLy8g
Tm90ZSB0aGF0ICJpdGVyIiBpcyBwYXNzZWQgYnkgcmVmZXJlbmNlLCBhbmQgd2UgbmVlZCB0byBt
YWtlIHN1cmUgdGhhdAotICAvLyB3ZSB1cGRhdGUgaXRzIHBvc2l0aW9uIGFzIHdlIHBhcnNlIGNo
YXJhY3RlcnMsIHNvIHRoZSBjYWxsZXIgd2lsbCBrbm93Ci0gIC8vIGhvdyBtdWNoIHRleHQgd2Ug
cHJvY2Vzc2VkLgotCi0gIC8vIFJlbWVtYmVyIHdoZXJlIHdlIHN0YXJ0ZWQuCi0gIGNvbnN0IG5z
QVN0cmluZzo6Y29uc3RfaXRlcmF0b3Igc3RhcnQoaXRlcik7Ci0gIAotICAvLyBPdXIgcG9zc2li
bGUgZW50aXR5IG11c3QgYXQgbGVhc3Qgc3RhcnQgd2l0aCBhbiAnJicgLS0gYmFpbCBpZiBpdCBk
b2Vzbid0LgotICBpZiAoIUNvbnN1bWVDaGFyKGl0ZXIsIGVuZCwgSXNBbXBlcnNhbmQpKSB7Ci0g
ICAgcmV0dXJuOwotICB9Ci0KLSAgLy8gSWRlbnRpZnkgdGhlIGVudGl0eSAiYm9keSIgYW5kIGNs
YXNzaWZ5IGl0LgotICBuc0FTdHJpbmc6OmNvbnN0X2l0ZXJhdG9yIHN0YXJ0Qm9keSwgZW5kQm9k
eTsKLSAgZW51bSB7VFlQRV9JRCwgVFlQRV9ERUNJTUFMLCBUWVBFX0hFWEFERUNJTUFMfSBlbnRp
dHlUeXBlOwotICBpZiAoQ29uc3VtZUNoYXIoaXRlciwgZW5kLCBJc0hhc2hzaWduKSkgewotICAg
IGlmIChDb25zdW1lQ2hhcihpdGVyLCBlbmQsIElzWHgpKSB7Ci0gICAgICBzdGFydEJvZHkgPSBp
dGVyOwotICAgICAgZW50aXR5VHlwZSA9IFRZUEVfSEVYQURFQ0lNQUw7Ci0gICAgICB3aGlsZSAo
Q29uc3VtZUNoYXIoaXRlciwgZW5kLCBJc0hleERpZ2l0KSkgewotICAgICAgICAvLyBlbXB0eQot
ICAgICAgfQotICAgIH0gZWxzZSB7Ci0gICAgICBzdGFydEJvZHkgPSBpdGVyOwotICAgICAgZW50
aXR5VHlwZSA9IFRZUEVfREVDSU1BTDsKLSAgICAgIHdoaWxlIChDb25zdW1lQ2hhcihpdGVyLCBl
bmQsIElzRGlnaXQpKSB7Ci0gICAgICAgIC8vIGVtcHR5Ci0gICAgICB9Ci0gICAgfQotICB9IGVs
c2UgewotICAgIHN0YXJ0Qm9keSA9IGl0ZXI7Ci0gICAgZW50aXR5VHlwZSA9IFRZUEVfSUQ7Ci0g
ICAgLy8gVGhlIHBhcnNlciBzZWVtcyB0byBhbGxvdyBzb21lIG90aGVyIGNoYXJhY3RlcnMsIHN1
Y2ggYXMgIjoiIGFuZCAiXyIuCi0gICAgLy8gSG93ZXZlciwgYWxsIG9mIHRoZSBlbnRpdGllcyB0
aGF0IHdlIGtub3cgYWJvdXQgKHNlZSBuc0hUTUxFbnRpdHlMaXN0LmgpCi0gICAgLy8gYXJlIHN0
cmljdGx5IGFscGhhbnVtZXJpYy4KLSAgICB3aGlsZSAoQ29uc3VtZUNoYXIoaXRlciwgZW5kLCBJ
c0FscGhhTnVtKSkgewotICAgICAgLy8gZW1wdHkKLSAgICB9Ci0gIH0KLQotICAvLyBSZWNvcmQg
dGhlIGVuZCBvZiB0aGUgZW50aXR5IGJvZHkuCi0gIGVuZEJvZHkgPSBpdGVyOwotICAKLSAgLy8g
SWYgdGhlIGVudGl0eSBib2R5IGlzIHRlcm1pbmF0ZWQgd2l0aCBhIHNlbWljb2xvbiwgY29uc3Vt
ZSB0aGF0IHRvby4KLSAgUFJCb29sIHByb3Blcmx5VGVybWluYXRlZCA9IENvbnN1bWVDaGFyKGl0
ZXIsIGVuZCwgSXNTZW1pY29sb24pOwotCi0gIC8vIElmIHRoZSBlbnRpdHkgYm9keSBpcyBlbXB0
eSwgdGhlbiBpdCdzIG5vdCByZWFsbHkgYW4gZW50aXR5LiAgQ29weSB3aGF0Ci0gIC8vIHdlJ3Zl
IHBhcnNlZCB2ZXJiYXRpbSwgYW5kIHJldHVybiBpbW1lZGlhdGVseS4KLSAgaWYgKHN0YXJ0Qm9k
eSA9PSBlbmRCb2R5KSB7Ci0gICAgdGV4dEJ1ZmZlci5BcHBlbmQoU3Vic3RyaW5nKHN0YXJ0LCBp
dGVyKSk7Ci0gICAgcmV0dXJuOwotICB9Ci0KLSAgLy8gQ29uc3RydWN0IGEgc3RyaW5nIGZyb20g
dGhlIGJvZHkgcmFuZ2UuICBOb3RlIHRoYXQgd2UgbmVlZCBhIHJlZ3VsYXIKLSAgLy8gc3RyaW5n
IHNpbmNlIHN1YnN0cmluZ3MgZG9uJ3QgcHJvdmlkZSBUb0ludGVnZXIoKS4KLSAgbnNBdXRvU3Ry
aW5nIGVudGl0eUJvZHkoU3Vic3RyaW5nKHN0YXJ0Qm9keSwgZW5kQm9keSkpOwotCi0gIC8vIERl
Y29kZSB0aGUgZW50aXR5IHRvIGEgVW5pY29kZSBjaGFyYWN0ZXIuCi0gIFBSSW50MzIgZW50aXR5
Q29kZSA9IC0xOwotICBzd2l0Y2ggKGVudGl0eVR5cGUpIHsKLSAgY2FzZSBUWVBFX0lEOgotICAg
IGVudGl0eUNvZGUgPSBuc0hUTUxFbnRpdGllczo6RW50aXR5VG9Vbmljb2RlKGVudGl0eUJvZHkp
OwotICAgIGJyZWFrOwotICBjYXNlIFRZUEVfREVDSU1BTDoKLSAgICBlbnRpdHlDb2RlID0gVG9V
bmljb2RlKGVudGl0eUJvZHksIDEwLCAtMSk7Ci0gICAgYnJlYWs7Ci0gIGNhc2UgVFlQRV9IRVhB
REVDSU1BTDoKLSAgICBlbnRpdHlDb2RlID0gVG9Vbmljb2RlKGVudGl0eUJvZHksIDE2LCAtMSk7
Ci0gICAgYnJlYWs7Ci0gIGRlZmF1bHQ6Ci0gICAgTlNfTk9UUkVBQ0hFRCgiVW5rbm93biBlbnRp
dHkgdHlwZSEiKTsKLSAgICBicmVhazsKLSAgfQotCi0gIC8vIE5vdGUgdGhhdCB0aGUgcGFyc2Vy
IGRvZXMgbm90IHJlcXVpcmUgdGVybWluYXRpbmcgc2VtaWNvbG9ucyBmb3IgZW50aXRpZXMKLSAg
Ly8gd2l0aCBlaWdodCBiaXQgdmFsdWVzLiAgV2Ugd2FudCB0byBhbGxvdyB0aGUgc2FtZSBoZXJl
LgotICBpZiAocHJvcGVybHlUZXJtaW5hdGVkIHx8ICgoMCA8PSBlbnRpdHlDb2RlKSAmJiAoZW50
aXR5Q29kZSA8IDI1NikpKSB7Ci0gICAgdGV4dEJ1ZmZlci5BcHBlbmQoKFBSVW5pY2hhcikgZW50
aXR5Q29kZSk7Ci0gIH0gZWxzZSB7Ci0gICAgLy8gSWYgdGhlIGVudGl0eSBpcyBtYWxmb3JtZWQg
aW4gYW55IHdheSwganVzdCBjb3B5IHRoZSBzb3VyY2UgdGV4dCB2ZXJiYXRpbS4KLSAgICB0ZXh0
QnVmZmVyLkFwcGVuZChTdWJzdHJpbmcoc3RhcnQsIGl0ZXIpKTsKLSAgfQotfQotCi1QUkludDMy
IENWaWV3U291cmNlSFRNTDo6VG9Vbmljb2RlKGNvbnN0IG5zU3RyaW5nICZzdHJOdW0sIFBSSW50
MzIgcmFkaXgsIFBSSW50MzIgZmFsbGJhY2spCi17Ci0gIFBSSW50MzIgcmVzdWx0OwotICBQUklu
dDMyIGNvZGUgPSBzdHJOdW0uVG9JbnRlZ2VyKCZyZXN1bHQsIHJhZGl4KTsKLSAgaWYgKHJlc3Vs
dCA9PSBOU19PSykgewotICAgIHJldHVybiBjb2RlOwotICB9Ci0gIHJldHVybiBmYWxsYmFjazsK
LX0KLQpkaWZmIC0tZ2l0IGEvcGFyc2VyL2h0bWxwYXJzZXIvc3JjL25zVmlld1NvdXJjZUhUTUwu
aCBiL3BhcnNlci9odG1scGFyc2VyL3NyYy9uc1ZpZXdTb3VyY2VIVE1MLmgKZGVsZXRlZCBmaWxl
IG1vZGUgMTAwNjQ0Ci0tLSBhL3BhcnNlci9odG1scGFyc2VyL3NyYy9uc1ZpZXdTb3VyY2VIVE1M
LmgKKysrIC9kZXYvbnVsbApAQCAtMSwxNjYgKzAsMCBAQAotLyogLSotIE1vZGU6IEMrKzsgdGFi
LXdpZHRoOiA0OyBpbmRlbnQtdGFicy1tb2RlOiBuaWw7IGMtYmFzaWMtb2Zmc2V0OiA0IC0qLSAq
LwotLyogKioqKiogQkVHSU4gTElDRU5TRSBCTE9DSyAqKioqKgotICogVmVyc2lvbjogTVBMIDEu
MS9HUEwgMi4wL0xHUEwgMi4xCi0gKgotICogVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZSBhcmUg
c3ViamVjdCB0byB0aGUgTW96aWxsYSBQdWJsaWMgTGljZW5zZSBWZXJzaW9uCi0gKiAxLjEgKHRo
ZSAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlh
bmNlIHdpdGgKLSAqIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExp
Y2Vuc2UgYXQKLSAqIGh0dHA6Ly93d3cubW96aWxsYS5vcmcvTVBMLwotICoKLSAqIFNvZnR3YXJl
IGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJ
UyIgYmFzaXMsCi0gKiBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVz
cyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UKLSAqIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3Vh
Z2UgZ292ZXJuaW5nIHJpZ2h0cyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlCi0gKiBMaWNlbnNl
LgotICoKLSAqIFRoZSBPcmlnaW5hbCBDb2RlIGlzIG1vemlsbGEub3JnIGNvZGUuCi0gKgotICog
VGhlIEluaXRpYWwgRGV2ZWxvcGVyIG9mIHRoZSBPcmlnaW5hbCBDb2RlIGlzCi0gKiBOZXRzY2Fw
ZSBDb21tdW5pY2F0aW9ucyBDb3Jwb3JhdGlvbi4KLSAqIFBvcnRpb25zIGNyZWF0ZWQgYnkgdGhl
IEluaXRpYWwgRGV2ZWxvcGVyIGFyZSBDb3B5cmlnaHQgKEMpIDE5OTgKLSAqIHRoZSBJbml0aWFs
IERldmVsb3Blci4gQWxsIFJpZ2h0cyBSZXNlcnZlZC4KLSAqCi0gKiBDb250cmlidXRvcihzKToK
LSAqCi0gKiBBbHRlcm5hdGl2ZWx5LCB0aGUgY29udGVudHMgb2YgdGhpcyBmaWxlIG1heSBiZSB1
c2VkIHVuZGVyIHRoZSB0ZXJtcyBvZgotICogZWl0aGVyIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJs
aWMgTGljZW5zZSBWZXJzaW9uIDIgb3IgbGF0ZXIgKHRoZSAiR1BMIiksCi0gKiBvciB0aGUgR05V
IExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIFZlcnNpb24gMi4xIG9yIGxhdGVyICh0aGUg
IkxHUEwiKSwKLSAqIGluIHdoaWNoIGNhc2UgdGhlIHByb3Zpc2lvbnMgb2YgdGhlIEdQTCBvciB0
aGUgTEdQTCBhcmUgYXBwbGljYWJsZSBpbnN0ZWFkCi0gKiBvZiB0aG9zZSBhYm92ZS4gSWYgeW91
IHdpc2ggdG8gYWxsb3cgdXNlIG9mIHlvdXIgdmVyc2lvbiBvZiB0aGlzIGZpbGUgb25seQotICog
dW5kZXIgdGhlIHRlcm1zIG9mIGVpdGhlciB0aGUgR1BMIG9yIHRoZSBMR1BMLCBhbmQgbm90IHRv
IGFsbG93IG90aGVycyB0bwotICogdXNlIHlvdXIgdmVyc2lvbiBvZiB0aGlzIGZpbGUgdW5kZXIg
dGhlIHRlcm1zIG9mIHRoZSBNUEwsIGluZGljYXRlIHlvdXIKLSAqIGRlY2lzaW9uIGJ5IGRlbGV0
aW5nIHRoZSBwcm92aXNpb25zIGFib3ZlIGFuZCByZXBsYWNlIHRoZW0gd2l0aCB0aGUgbm90aWNl
Ci0gKiBhbmQgb3RoZXIgcHJvdmlzaW9ucyByZXF1aXJlZCBieSB0aGUgR1BMIG9yIHRoZSBMR1BM
LiBJZiB5b3UgZG8gbm90IGRlbGV0ZQotICogdGhlIHByb3Zpc2lvbnMgYWJvdmUsIGEgcmVjaXBp
ZW50IG1heSB1c2UgeW91ciB2ZXJzaW9uIG9mIHRoaXMgZmlsZSB1bmRlcgotICogdGhlIHRlcm1z
IG9mIGFueSBvbmUgb2YgdGhlIE1QTCwgdGhlIEdQTCBvciB0aGUgTEdQTC4KLSAqCi0gKiAqKioq
KiBFTkQgTElDRU5TRSBCTE9DSyAqKioqKiAqLwotCi0vKioKLSAqIE1PRFVMRSBOT1RFUzoKLSAq
IEB1cGRhdGUgIGdlc3MgNC84Lzk4Ci0gKgotICoKLSAqLwotCi0jaWZuZGVmIF9fTlNfVklFV1NP
VVJDRV9IVE1MXwotI2RlZmluZSBfX05TX1ZJRVdTT1VSQ0VfSFRNTF8KLQotI2luY2x1ZGUgIm5z
SURURC5oIgotI2luY2x1ZGUgIm5zSVN1cHBvcnRzLmgiCi0jaW5jbHVkZSAibnNIVE1MVG9rZW5z
LmgiCi0jaW5jbHVkZSAibnNJSFRNTENvbnRlbnRTaW5rLmgiCi0jaW5jbHVkZSAibnNEVERVdGls
cy5oIgotI2luY2x1ZGUgIm5zUGFyc2VyTm9kZS5oIgotCi1jbGFzcyBuc0lQYXJzZXJOb2RlOwot
Y2xhc3MgbnNQYXJzZXI7Ci1jbGFzcyBuc0lUb2tlbml6ZXI7Ci1jbGFzcyBuc0NQYXJzZXJOb2Rl
OwotCi1jbGFzcyBDSW5kaXJlY3RUZXh0VG9rZW4gOiBwdWJsaWMgQ1RleHRUb2tlbiB7Ci1wdWJs
aWM6Ci0gIENJbmRpcmVjdFRleHRUb2tlbigpIDogQ1RleHRUb2tlbigpIHsKLSAgICBtSW5kaXJl
Y3RTdHJpbmc9MDsKLSAgfQotCi0gIHZvaWQgU2V0SW5kaXJlY3RTdHJpbmcoY29uc3QgbnNTdWJz
dHJpbmcmIGFTdHJpbmcpIHsKLSAgICBtSW5kaXJlY3RTdHJpbmc9JmFTdHJpbmc7Ci0gIH0KLQot
ICB2aXJ0dWFsIGNvbnN0IG5zU3Vic3RyaW5nJiBHZXRTdHJpbmdWYWx1ZSh2b2lkKXsKLSAgICBy
ZXR1cm4gKGNvbnN0IG5zU3Vic3RyaW5nJikqbUluZGlyZWN0U3RyaW5nOwotICB9Ci0KLSAgY29u
c3QgbnNTdWJzdHJpbmcqIG1JbmRpcmVjdFN0cmluZzsKLX07Ci0KLQotY2xhc3MgQ1ZpZXdTb3Vy
Y2VIVE1MOiBwdWJsaWMgbnNJRFRECi17Ci1wdWJsaWM6Ci0KLSAgICBOU19ERUNMX0lTVVBQT1JU
UwotICAgIE5TX0RFQ0xfTlNJRFRECi0KLSAgICBDVmlld1NvdXJjZUhUTUwoKTsKLSAgICB2aXJ0
dWFsIH5DVmlld1NvdXJjZUhUTUwoKTsKLQotICAgIC8qKgotICAgICAqIFNldCB0aGlzIHRvIFRS
VUUgaWYgeW91IHdhbnQgdGhlIERURCB0byB2ZXJpZnkgaXRzCi0gICAgICogY29udGV4dCBzdGFj
ay4KLSAgICAgKiBAdXBkYXRlICBnZXNzIDcvMjMvOTgKLSAgICAgKiBAcGFyYW0KLSAgICAgKiBA
cmV0dXJuCi0gICAgICovCi0gICAgdmlydHVhbCB2b2lkIFNldFZlcmlmaWNhdGlvbihQUkJvb2wg
YUVuYWJsZSk7Ci0KLXByaXZhdGU6Ci0gICAgbnNyZXN1bHQgSGFuZGxlVG9rZW4oQ1Rva2VuKiBh
VG9rZW4pOwotCi0gICAgbnNyZXN1bHQgV3JpdGVUYWcoUFJJbnQzMiB0YWdUeXBlLAotICAgICAg
ICAgICAgICAgICAgICAgIGNvbnN0IG5zU3Vic3RyaW5nICZhVGV4dCwKLSAgICAgICAgICAgICAg
ICAgICAgICBQUkludDMyIGF0dHJDb3VudCwKLSAgICAgICAgICAgICAgICAgICAgICBQUkJvb2wg
YVRhZ0luRXJyb3IpOwotCi0gICAgbnNyZXN1bHQgV3JpdGVBdHRyaWJ1dGVzKGNvbnN0IG5zQVN0
cmluZyYgdGFnTmFtZSwgCi0gICAgICAgIG5zVG9rZW5BbGxvY2F0b3IqIGFsbG9jYXRvciwgUFJJ
bnQzMiBhdHRyQ291bnQsIFBSQm9vbCBhT3duZXJJbkVycm9yKTsKLSAgICB2b2lkIFN0YXJ0TmV3
UHJlQmxvY2sodm9pZCk7Ci0gICAgLy8gVXRpbGl0eSBtZXRob2QgZm9yIGFkZGluZyBhdHRyaWJ1
dGVzIHRvIHRoZSBub2RlcyB3ZSBnZW5lcmF0ZQotICAgIHZvaWQgQWRkQXR0clRvTm9kZShuc0NQ
YXJzZXJTdGFydE5vZGUmIGFOb2RlLAotICAgICAgICAgICAgICAgICAgICAgICBuc1Rva2VuQWxs
b2NhdG9yKiBhQWxsb2NhdG9yLAotICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuc0FTdHJp
bmcmIGFBdHRyTmFtZSwKLSAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbnNBU3RyaW5nJiBh
QXR0clZhbHVlKTsKLQotICAgIFBSQm9vbCBJc1VybEF0dHJpYnV0ZShjb25zdCBuc0FTdHJpbmcm
IHRhZ05hbWUsCi0gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5zQVN0cmluZyYgYXR0
ck5hbWUsIGNvbnN0IG5zQVN0cmluZyYgYXR0clZhbHVlKTsKLSAgICB2b2lkIFdyaXRlSHJlZkF0
dHJpYnV0ZShuc1Rva2VuQWxsb2NhdG9yKiBhbGxvY2F0b3IsIGNvbnN0IG5zQVN0cmluZyYgaHJl
Zik7Ci0gICAgbnNyZXN1bHQgQ3JlYXRlVmlld1NvdXJjZVVSTChjb25zdCBuc0FTdHJpbmcmIGxp
bmtVcmwsIG5zU3RyaW5nJiB2aWV3U291cmNlVXJsKTsKLSAgICB2b2lkIFdyaXRlVGV4dEluU3Bh
bihjb25zdCBuc0FTdHJpbmcmIHRleHQsIG5zVG9rZW5BbGxvY2F0b3IqIGFsbG9jYXRvciwKLSAg
ICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuc0FTdHJpbmcmIGF0dHJOYW1lLCBjb25zdCBu
c0FTdHJpbmcmIGF0dHJWYWx1ZSk7Ci0gICAgdm9pZCBXcml0ZVRleHRJbkFuY2hvcihjb25zdCBu
c0FTdHJpbmcmIHRleHQsIG5zVG9rZW5BbGxvY2F0b3IqIGFsbG9jYXRvciwKLSAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGNvbnN0IG5zQVN0cmluZyYgYXR0ck5hbWUsIGNvbnN0IG5zQVN0cmlu
ZyAmYXR0clZhbHVlKTsKLSAgICB2b2lkIFdyaXRlVGV4dEluRWxlbWVudChjb25zdCBuc0FTdHJp
bmcmIHRhZ05hbWUsIGVIVE1MVGFncyB0YWdUeXBlLAotICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIGNvbnN0IG5zQVN0cmluZyYgdGV4dCwgbnNUb2tlbkFsbG9jYXRvciogYWxsb2NhdG9yLAot
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5zQVN0cmluZyYgYXR0ck5hbWUsIGNv
bnN0IG5zQVN0cmluZyYgYXR0clZhbHVlKTsKLSAgICBjb25zdCBuc0RlcGVuZGVudFN1YnN0cmlu
ZyBUcmltVG9rZW5WYWx1ZShjb25zdCBuc0FTdHJpbmcmIHRva2VuVmFsdWUpOwotICAgIHZvaWQg
VHJpbVRva2VuVmFsdWUobnNBU3RyaW5nOjpjb25zdF9pdGVyYXRvciYgc3RhcnQsIAotICAgICAg
ICAgICAgICAgICAgICAgICAgbnNBU3RyaW5nOjpjb25zdF9pdGVyYXRvciYgZW5kKTsKLSAgICBQ
UkJvb2wgSXNUb2tlblZhbHVlVHJpbW1hYmxlQ2hhcmFjdGVyKFBSVW5pY2hhciBjaCk7Ci0gICAg
bnNyZXN1bHQgR2V0QmFzZVVSSShuc0lVUkkgKipyZXN1bHQpOwotICAgIG5zcmVzdWx0IFNldEJh
c2VVUkkoY29uc3QgbnNBU3RyaW5nJiBiYXNlU3BlYyk7Ci0gICAgc3RhdGljIHZvaWQgRXhwYW5k
RW50aXRpZXMoY29uc3QgbnNBU3RyaW5nJiB0ZXh0SW4sIG5zU3RyaW5nJiB0ZXh0T3V0KTsKLSAg
ICBzdGF0aWMgdm9pZCBDb3B5UG9zc2libGVFbnRpdHkobnNBU3RyaW5nOjpjb25zdF9pdGVyYXRv
ciYgaXRlciwKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbnNBU3Ry
aW5nOjpjb25zdF9pdGVyYXRvciYgZW5kLAotICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBuc0FTdHJpbmcmIHRleHRCdWZmZXIpOwotICAgIHN0YXRpYyBQUkludDMyIFRvVW5pY29k
ZShjb25zdCBuc1N0cmluZyAmc3RyTnVtLCBQUkludDMyIHJhZGl4LCBQUkludDMyIGZhbGxiYWNr
KTsKLQotcHJvdGVjdGVkOgotCi0gICAgbnNDU3RyaW5nICAgICAgICAgICBtQ2hhcnNldDsKLSAg
ICBuc0lIVE1MQ29udGVudFNpbmsqIG1TaW5rOwotICAgIFBSSW50MzIgICAgICAgICAgICAgbUxp
bmVOdW1iZXI7Ci0gICAgbnNJVG9rZW5pemVyKiAgICAgICBtVG9rZW5pemVyOyAvLyB3ZWFrCi0K
LSAgICBQUkludDMyICAgICAgICAgICAgIG1UYWJTaXplOwotICAgIFBSUGFja2VkQm9vbCAgICAg
ICAgbVN5bnRheEhpZ2hsaWdodDsKLSAgICBQUlBhY2tlZEJvb2wgICAgICAgIG1XcmFwTG9uZ0xp
bmVzOwotICAgIFBSUGFja2VkQm9vbCAgICAgICAgbUhhc09wZW5Sb290OwotICAgIFBSUGFja2Vk
Qm9vbCAgICAgICAgbUhhc09wZW5Cb2R5OwotCi0gICAgbnNEVERNb2RlICAgICAgICAgICBtRFRE
TW9kZTsKLSAgICBlUGFyc2VyQ29tbWFuZHMgICAgIG1QYXJzZXJDb21tYW5kOyAgIC8vdGVsbHMg
dXMgdG8gdmlld2NvbnRlbnQvdmlld3NvdXJjZS92aWV3ZXJyb3JzLi4uCi0gICAgZVBhcnNlckRv
Y1R5cGUgICAgICBtRG9jVHlwZTsKLSAgICBuc0NTdHJpbmcgICAgICAgICAgIG1NaW1lVHlwZTsK
LQotICAgIG5zU3RyaW5nICAgICAgICAgICAgbUZpbGVuYW1lOwotICAgIG5zQ09NUHRyPG5zSVVS
ST4gICAgbUJhc2VVUkk7IC8vIGxhenkgLS0gYWx3YXlzIHVzZSBHZXRCYXNlVVJJKCkuCi0KLSAg
ICBQUlVpbnQzMiAgICAgICAgICAgIG1Ub2tlbkNvdW50OwotCi0gICAgbnNDUGFyc2VyU3RhcnRO
b2RlICBtU3RhcnROb2RlOwotICAgIG5zQ1BhcnNlclN0YXJ0Tm9kZSAgbVRva2VuTm9kZTsKLSAg
ICBDSW5kaXJlY3RUZXh0VG9rZW4gIG1JVGV4dFRva2VuOwotICAgIG5zQ1BhcnNlclN0YXJ0Tm9k
ZSAgbUVycm9yTm9kZTsKLX07Ci0KLSNlbmRpZgo=
</data>

          </attachment>
      

    </bug>

</bugzilla>